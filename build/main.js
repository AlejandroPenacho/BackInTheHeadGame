(()=>{"use strict";var t={965:(t,e,i)=>{function n(){}function o(t){return t()}function s(){return Object.create(null)}function r(t){t.forEach(o)}function l(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return 0===Object.keys(t).length}function d(t,e){t.appendChild(e)}function h(t,e,i){t.insertBefore(e,i||null)}function p(t){t.parentNode.removeChild(t)}function u(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function f(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function v(){return g(" ")}function y(){return g("")}function m(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function x(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e,i,n){t.style.setProperty(e,i,n?"important":"")}let w;function $(t){w=t}i.r(e),i.d(e,{default:()=>Pt}),new Set,new Set;const C=[],_=[],j=[],S=[],B=Promise.resolve();let T=!1;function M(t){j.push(t)}let O=!1;const P=new Set;function L(){if(!O){O=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];$(e),z(e.$$)}for($(null),C.length=0;_.length;)_.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];P.has(e)||(P.add(e),e())}j.length=0}while(C.length);for(;S.length;)S.pop()();T=!1,O=!1,P.clear()}}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const A=new Set;let E;function F(){E={r:0,c:[],p:E}}function I(){E.r||r(E.c),E=E.p}function G(t,e){t&&t.i&&(A.delete(t),t.i(e))}function R(t,e,i,n){if(t&&t.o){if(A.has(t))return;A.add(t),E.c.push((()=>{A.delete(t),n&&(i&&t.d(1),n())})),t.o(e)}}const W="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let D;function K(t){t&&t.c()}function N(t,e,i,n){const{fragment:s,on_mount:a,on_destroy:c,after_update:d}=t.$$;s&&s.m(e,i),n||M((()=>{const e=a.map(o).filter(l);c?c.push(...e):r(e),t.$$.on_mount=[]})),d.forEach(M)}function V(t,e){const i=t.$$;null!==i.fragment&&(r(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function q(t,e,i,o,l,a,c=[-1]){const d=w;$(t);const h=t.$$={fragment:null,ctx:null,props:a,update:n,not_equal:l,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:e.context||[]),callbacks:s(),dirty:c,skip_bound:!1};let u=!1;if(h.ctx=i?i(t,e.props||{},((e,i,...n)=>{const o=n.length?n[0]:i;return h.ctx&&l(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),u&&function(t,e){-1===t.$$.dirty[0]&&(C.push(t),T||(T=!0,B.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),i})):[],h.update(),u=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),e.target){if(e.hydrate){const t=(f=e.target,Array.from(f.childNodes));h.fragment&&h.fragment.l(t),t.forEach(p)}else h.fragment&&h.fragment.c();e.intro&&G(t.$$.fragment),N(t,e.target,e.anchor,e.customElement),L()}var f;$(d)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(D=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(o).filter(l);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,i){this[t]=i}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){V(this,1),this.$destroy=n}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class H{$destroy(){V(this,1),this.$destroy=n}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t){let e;return{c(){e=f("div"),k(e,"height",t[0].foot.props.width+"px"),k(e,"width",t[0].foot.props.length+"px"),k(e,"transform","translate("+t[1][0]+"px, "+t[1][1]+"px)  translate(-50%,-50%) rotate(-"+t[2]+"deg)"),x(e,"class","svelte-9lir44")},m(t,i){h(t,e,i)},p(t,[i]){1&i&&k(e,"height",t[0].foot.props.width+"px"),1&i&&k(e,"width",t[0].foot.props.length+"px"),6&i&&k(e,"transform","translate("+t[1][0]+"px, "+t[1][1]+"px)  translate(-50%,-50%) rotate(-"+t[2]+"deg)")},i:n,o:n,d(t){t&&p(e)}}}function U(t,e,i){let n,o,{player:s}=e;return t.$$set=t=>{"player"in t&&i(0,s=t.player)},t.$$.update=()=>{1&t.$$.dirty&&i(1,o=s.getFootPosition()),1&t.$$.dirty&&i(2,n=s.getFootAngle())},[s,o,n]}const X=class extends H{constructor(t){var e;super(),document.getElementById("svelte-9lir44-style")||((e=f("style")).id="svelte-9lir44-style",e.textContent="div.svelte-9lir44{background-color:darkgoldenrod;position:absolute;border-radius:15px}",d(document.head,e)),q(this,t,U,J,a,{player:0})}};function Y(t){let e,i,n,o,s;return o=new X({props:{player:t[0]}}),{c(){e=f("div"),n=v(),K(o.$$.fragment),x(e,"style",i="transform: translate("+t[0].state.position[0]+"px, "+t[0].state.position[1]+"px) translate(-50%, -50%);\n            height: "+t[0].props.size+"px;\n            width: "+t[0].props.size+"px;\n            border-radius : "+t[0].props.size/2+"px;\n            background-color : "+t[0].props.color),x(e,"class","svelte-1ybaz7a")},m(t,i){h(t,e,i),h(t,n,i),N(o,t,i),s=!0},p(t,[n]){(!s||1&n&&i!==(i="transform: translate("+t[0].state.position[0]+"px, "+t[0].state.position[1]+"px) translate(-50%, -50%);\n            height: "+t[0].props.size+"px;\n            width: "+t[0].props.size+"px;\n            border-radius : "+t[0].props.size/2+"px;\n            background-color : "+t[0].props.color))&&x(e,"style",i);const r={};1&n&&(r.player=t[0]),o.$set(r)},i(t){s||(G(o.$$.fragment,t),s=!0)},o(t){R(o.$$.fragment,t),s=!1},d(t){t&&p(e),t&&p(n),V(o,t)}}}function Q(t,e,i){let{player:n}=e;return t.$$set=t=>{"player"in t&&i(0,n=t.player)},[n]}const Z=class extends H{constructor(t){var e;super(),document.getElementById("svelte-1ybaz7a-style")||((e=f("style")).id="svelte-1ybaz7a-style",e.textContent="div.svelte-1ybaz7a{position:absolute;border-radius:25px}",d(document.head,e)),q(this,t,Q,Y,a,{player:0})}};function tt(t){let e;return{c(){e=f("div"),k(e,"height",t[0].size+"px"),k(e,"width",t[0].size+"px"),k(e,"border-radius",t[0].size/2+"px"),k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)"),x(e,"class","svelte-1bhxjt8")},m(t,i){h(t,e,i)},p(t,[i]){1&i&&k(e,"height",t[0].size+"px"),1&i&&k(e,"width",t[0].size+"px"),1&i&&k(e,"border-radius",t[0].size/2+"px"),1&i&&k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)")},i:n,o:n,d(t){t&&p(e)}}}function et(t,e,i){let{ball:n}=e;return t.$$set=t=>{"ball"in t&&i(0,n=t.ball)},[n]}const it=class extends H{constructor(t){var e;super(),document.getElementById("svelte-1bhxjt8-style")||((e=f("style")).id="svelte-1bhxjt8-style",e.textContent="div.svelte-1bhxjt8{position:absolute;background-color:palevioletred}",d(document.head,e)),q(this,t,et,tt,a,{ball:0})}};var nt=i(734);function ot(t){let e,i;return{c(){e=f("div"),i=f("div"),x(i,"class","high-bar svelte-15nxjtr"),k(i,"border-radius",t[1]),k(i,"transform","translate("+t[2]+"px, 0px)"),k(i,"height",t[0].barWidth+"px"),k(i,"width",t[0].width+t[0].barWidth/2+"px"),x(e,"class","interior svelte-15nxjtr"),k(e,"height",t[0].height+"px"),k(e,"width",t[0].width+"px"),k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)")},m(t,n){h(t,e,n),d(e,i)},p(t,[n]){2&n&&k(i,"border-radius",t[1]),4&n&&k(i,"transform","translate("+t[2]+"px, 0px)"),1&n&&k(i,"height",t[0].barWidth+"px"),1&n&&k(i,"width",t[0].width+t[0].barWidth/2+"px"),1&n&&k(e,"height",t[0].height+"px"),1&n&&k(e,"width",t[0].width+"px"),1&n&&k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)")},i:n,o:n,d(t){t&&p(e)}}}function st(t,e,i){let n,o,s,{data:r}=e;return r.side==nt.Side.left?(n=0,o="0px 10px 10px 0px",s=0):(o="10px 0px 0px 10px",s=-10),t.$$set=t=>{"data"in t&&i(0,r=t.data)},[r,o,s]}i(834);const rt=class extends H{constructor(t){var e;super(),document.getElementById("svelte-15nxjtr-style")||((e=f("style")).id="svelte-15nxjtr-style",e.textContent="div.interior.svelte-15nxjtr{background-color:greenyellow;position:absolute}div.high-bar.svelte-15nxjtr{background-color:rgb(139, 0, 0);position:absolute}",d(document.head,e)),q(this,t,st,ot,a,{data:0})}};var lt=i(60),at=i(885);function ct(t,e,i){const n=t.slice();return n[29]=e[i],n[31]=i,n}function dt(t,e,i){const n=t.slice();return n[31]=e[i],n}function ht(t,e,i){const n=t.slice();return n[31]=e[i],n}function pt(t){let e,i=[0,1,2],n=[];for(let e=0;e<3;e+=1)n[e]=ft(dt(t,i,e));return{c(){for(let t=0;t<3;t+=1)n[t].c();e=y()},m(t,i){for(let e=0;e<3;e+=1)n[e].m(t,i);h(t,e,i)},p(t,o){if(672&o[0]){let s;for(i=[0,1,2],s=0;s<3;s+=1){const r=dt(t,i,s);n[s]?n[s].p(r,o):(n[s]=ft(r),n[s].c(),n[s].m(e.parentNode,e))}for(;s<3;s+=1)n[s].d(1)}},d(t){u(n,t),t&&p(e)}}}function ut(t){let e,i=[0,1,2],n=[];for(let e=0;e<3;e+=1)n[e]=gt(ht(t,i,e));return{c(){for(let t=0;t<3;t+=1)n[t].c();e=y()},m(t,i){for(let e=0;e<3;e+=1)n[e].m(t,i);h(t,e,i)},p(t,o){if(608&o[0]){let s;for(i=[0,1,2],s=0;s<3;s+=1){const r=ht(t,i,s);n[s]?n[s].p(r,o):(n[s]=gt(r),n[s].c(),n[s].m(e.parentNode,e))}for(;s<3;s+=1)n[s].d(1)}},d(t){u(n,t),t&&p(e)}}}function ft(t){let e,i,n,o,s,r=t[7][t[31]]+"";return{c(){e=f("div"),i=g(r),n=g(" goals\n                "),x(e,"class","endOptionBlock svelte-80hlv8"),k(e,"background-color",t[5](at.ObjectiveType.score,t[31]))},m(r,l){h(r,e,l),d(e,i),d(e,n),o||(s=m(e,"click",t[9](at.ObjectiveType.score,t[31])),o=!0)},p(i,n){t=i,32&n[0]&&k(e,"background-color",t[5](at.ObjectiveType.score,t[31]))},d(t){t&&p(e),o=!1,s()}}}function gt(t){let e,i,n,o,s,r=t[6][t[31]]+"";return{c(){e=f("div"),i=g(r),n=g(" min\n                "),x(e,"class","endOptionBlock svelte-80hlv8"),k(e,"background-color",t[5](at.ObjectiveType.time,t[31]))},m(r,l){h(r,e,l),d(e,i),d(e,n),o||(s=m(e,"click",t[9](at.ObjectiveType.time,t[31])),o=!0)},p(i,n){t=i,32&n[0]&&k(e,"background-color",t[5](at.ObjectiveType.time,t[31]))},d(t){t&&p(e),o=!1,s()}}}function vt(t){let e,i,n,o,s,l,a,c,u,g,y,b,k,w,$,C,_,j,S,B,T,M,O,P;function L(){return t[21](t[31])}return s=new Z({props:{player:t[4][t[31]]}}),{c(){e=f("div"),i=f("div"),i.textContent="X",n=v(),o=f("div"),K(s.$$.fragment),l=v(),a=f("div"),c=f("div"),c.textContent="<",u=v(),g=f("div"),g.textContent="Skin",y=v(),b=f("div"),b.textContent=">",k=v(),w=f("div"),$=f("div"),$.textContent="<",C=v(),_=f("div"),_.textContent="Side",j=v(),S=f("div"),S.textContent=">",B=v(),T=f("div"),T.textContent="Keybinding",x(i,"class","deleteCharacter svelte-80hlv8"),x(o,"class","characterPortrait svelte-80hlv8"),x(c,"class","optionBarArrowLeft svelte-80hlv8"),x(g,"class","optionBarText svelte-80hlv8"),x(b,"class","optionBarArrowRight svelte-80hlv8"),x(a,"class","optionBar svelte-80hlv8"),x($,"class","optionBarArrowLeft svelte-80hlv8"),x(_,"class","optionBarText svelte-80hlv8"),x(S,"class","optionBarArrowRight svelte-80hlv8"),x(w,"class","optionBar svelte-80hlv8"),x(T,"class","keybindingButton svelte-80hlv8"),x(e,"class","characterCard svelte-80hlv8")},m(r,p){h(r,e,p),d(e,i),d(e,n),d(e,o),N(s,o,null),d(e,l),d(e,a),d(a,c),d(a,u),d(a,g),d(a,y),d(a,b),d(e,k),d(e,w),d(w,$),d(w,C),d(w,_),d(w,j),d(w,S),d(e,B),d(e,T),M=!0,O||(P=[m(i,"click",t[10](t[31])),m(c,"click",t[13](t[31],-1)),m(b,"click",t[13](t[31],1)),m($,"click",t[12](t[31])),m(S,"click",t[12](t[31])),m(T,"click",L)],O=!0)},p(e,i){t=e;const n={};16&i[0]&&(n.player=t[4][t[31]]),s.$set(n)},i(t){M||(G(s.$$.fragment,t),M=!0)},o(t){R(s.$$.fragment,t),M=!1},d(t){t&&p(e),V(s),O=!1,r(P)}}}function yt(t){let e,i,o,s;return{c(){e=f("div"),i=f("div"),i.textContent="+",x(i,"class","addButton svelte-80hlv8"),x(e,"class","addPlayerCard svelte-80hlv8")},m(n,r){h(n,e,r),d(e,i),o||(s=m(i,"click",t[11]),o=!0)},p:n,d(t){t&&p(e),o=!1,s()}}}function mt(t){let e,i,n,o,s,l,a,c,u,y,k,w,$,C,_,j,S,B,T,M,O,P,L,z,A,E,F,I,G,R=t[4][t[2]].keybinding.left+"",W=t[4][t[2]].keybinding.right+"",D=t[4][t[2]].keybinding.jump+"",K=t[4][t[2]].keybinding.kick+"";return{c(){e=f("div"),i=f("div"),n=g("Player "),o=g(t[2]),s=v(),l=f("div"),a=f("div"),a.textContent="Left",c=v(),u=f("div"),y=g(R),k=v(),w=f("div"),w.textContent="Right",$=v(),C=f("div"),_=g(W),j=v(),S=f("div"),S.textContent="Jump",B=v(),T=f("div"),M=g(D),O=v(),P=f("div"),P.textContent="Kick",L=v(),z=f("div"),A=g(K),E=v(),F=f("div"),F.textContent="Done",x(i,"class","keybindingPlayer svelte-80hlv8"),x(u,"class","keybindingKey svelte-80hlv8"),x(C,"class","keybindingKey svelte-80hlv8"),x(T,"class","keybindingKey svelte-80hlv8"),x(z,"class","keybindingKey svelte-80hlv8"),x(l,"class","keybindingGrid svelte-80hlv8"),x(F,"class","keybindingClose svelte-80hlv8"),x(e,"class","keybindingWindow svelte-80hlv8")},m(r,p){h(r,e,p),d(e,i),d(i,n),d(i,o),d(e,s),d(e,l),d(l,a),d(l,c),d(l,u),d(u,y),d(l,k),d(l,w),d(l,$),d(l,C),d(C,_),d(l,j),d(l,S),d(l,B),d(l,T),d(T,M),d(l,O),d(l,P),d(l,L),d(l,z),d(z,A),d(e,E),d(e,F),I||(G=[m(u,"click",t[22]),m(C,"click",t[23]),m(T,"click",t[24]),m(z,"click",t[25]),m(F,"click",t[26])],I=!0)},p(t,e){4&e[0]&&b(o,t[2]),20&e[0]&&R!==(R=t[4][t[2]].keybinding.left+"")&&b(y,R),20&e[0]&&W!==(W=t[4][t[2]].keybinding.right+"")&&b(_,W),20&e[0]&&D!==(D=t[4][t[2]].keybinding.jump+"")&&b(M,D),20&e[0]&&K!==(K=t[4][t[2]].keybinding.kick+"")&&b(A,K)},d(t){t&&p(e),I=!1,r(G)}}}function xt(t){let e,i,n,o,s,l,a,c,y,b,w,$,C,_,j,S,B,T,M;function O(t,e){return t[0]===at.ObjectiveType.time?ut:pt}let P=O(t),L=P(t),z=t[4],A=[];for(let e=0;e<z.length;e+=1)A[e]=vt(ct(t,z,e));const E=t=>R(A[t],1,1,(()=>{A[t]=null}));let W=t[4].length<4&&yt(t),D=t[1]&&mt(t);return{c(){e=f("div"),i=f("div"),n=f("div"),o=g("Time"),s=v(),l=f("div"),a=g("Score"),c=v(),y=f("div"),L.c(),b=v(),w=f("div"),$=f("div");for(let t=0;t<A.length;t+=1)A[t].c();C=v(),W&&W.c(),_=v(),j=f("div"),j.textContent="PLAY",S=v(),D&&D.c(),x(n,"class","endTypeBlock svelte-80hlv8"),x(n,"id","time"),k(n,"background-color",t[3][0]),x(l,"class","endTypeBlock svelte-80hlv8"),x(l,"id","score"),k(l,"background-color",t[3][1]),x(i,"class","selectEndType svelte-80hlv8"),x(y,"class","endOptionsList svelte-80hlv8"),x($,"class","characterList svelte-80hlv8"),x(j,"class","startButton svelte-80hlv8"),x(w,"class","lowerBlock svelte-80hlv8"),x(e,"class","mainDiv svelte-80hlv8")},m(r,p){h(r,e,p),d(e,i),d(i,n),d(n,o),d(i,s),d(i,l),d(l,a),d(e,c),d(e,y),L.m(y,null),d(e,b),d(e,w),d(w,$);for(let t=0;t<A.length;t+=1)A[t].m($,null);d($,C),W&&W.m($,null),d(w,_),d(w,j),d(e,S),D&&D.m(e,null),B=!0,T||(M=[m(n,"click",t[8](at.ObjectiveType.time)),m(l,"click",t[8](at.ObjectiveType.score)),m(j,"click",t[14])],T=!0)},p(t,i){if((!B||8&i[0])&&k(n,"background-color",t[3][0]),(!B||8&i[0])&&k(l,"background-color",t[3][1]),P===(P=O(t))&&L?L.p(t,i):(L.d(1),L=P(t),L&&(L.c(),L.m(y,null))),46096&i[0]){let e;for(z=t[4],e=0;e<z.length;e+=1){const n=ct(t,z,e);A[e]?(A[e].p(n,i),G(A[e],1)):(A[e]=vt(n),A[e].c(),G(A[e],1),A[e].m($,C))}for(F(),e=z.length;e<A.length;e+=1)E(e);I()}t[4].length<4?W?W.p(t,i):(W=yt(t),W.c(),W.m($,null)):W&&(W.d(1),W=null),t[1]?D?D.p(t,i):(D=mt(t),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i(t){if(!B){for(let t=0;t<z.length;t+=1)G(A[t]);B=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)R(A[t]);B=!1},d(t){t&&p(e),L.d(),u(A,t),W&&W.d(),D&&D.d(),T=!1,r(M)}}}function bt(t,e,i){let n,{set_key_inside:o=(t=>{})}=e,{startFunction:s}=e,r=!1,l=0,a=[1,3,5],c=[5,10,15],d=at.ObjectiveType.time,h=["green","grey"],p=0,u=0,f=[new lt.z(nt.Side.left),new lt.z(nt.Side.right)],g=[0,1];f.forEach((t=>t.state.position=[70,70])),f=f;let v=["orange","cyan","green","red","black","yellow"];function y(t){i(1,r=!0),i(2,l=t)}function m(t,e){i(4,f[t].keybinding[e]="?",f),i(17,o=n=>{i(4,f[t].keybinding[e]=n,f),i(17,o=t=>{})})}return t.$$set=t=>{"set_key_inside"in t&&i(17,o=t.set_key_inside),"startFunction"in t&&i(18,s=t.startFunction)},t.$$.update=()=>{1572864&t.$$.dirty[0]&&i(5,n=(t,e)=>t===at.ObjectiveType.time&&e===p||t===at.ObjectiveType.score&&e===u?"green":"grey"),1&t.$$.dirty[0]&&(d===at.ObjectiveType.time?i(3,h=["green","grey"]):i(3,h=["grey","green"]))},[d,r,l,h,f,n,a,c,function(t){return()=>{i(0,d=t)}},function(t,e){return t===at.ObjectiveType.time?()=>i(19,p=e):()=>i(20,u=e)},function(t){return()=>{f.splice(t,1),g.splice(t,1),i(4,f)}},function(){let t=new lt.z(nt.Side.left);t.state.position=[70,70],f.push(t),g.push(0),i(4,f)},function(t){return()=>{let e=f[t];e.props.side==nt.Side.left?e.props.side=nt.Side.right:e.props.side=nt.Side.left,i(4,f)}},function(t,e){return()=>{g[t]+=e,g[t]==v.length&&(g[t]=0),g[t]<0&&(g[t]=v.length-1),i(4,f[t].props.color=v[g[t]],f),i(4,f)}},function(){let t;t=d===at.ObjectiveType.score?{type:at.ObjectiveType.score,number:c[u]}:{type:at.ObjectiveType.time,number:a[p]},s(f,t)},y,m,o,s,p,u,t=>y(t),()=>m(l,"left"),()=>m(l,"right"),()=>m(l,"jump"),()=>m(l,"kick"),()=>{i(1,r=!1)}]}const kt=class extends H{constructor(t){var e;super(),document.getElementById("svelte-80hlv8-style")||((e=f("style")).id="svelte-80hlv8-style",e.textContent="div.mainDiv.svelte-80hlv8{background-color:darkblue;width:1000px;height:600px;margin:auto;position:relative;display:flex;flex-direction:column}div.selectEndType.svelte-80hlv8{display:flex;justify-content:center;padding-top:50px;padding-bottom:10px;font-size:30px}div.endTypeBlock.svelte-80hlv8{cursor:pointer;padding:15px;width:240px;text-align:center;transition:background-color 0.4s}div.endTypeBlock#time.svelte-80hlv8{border-radius:10px 0px 0px 10px}div.endTypeBlock#score.svelte-80hlv8{border-radius:0px 10px 10px 0px}div.endOptionsList.svelte-80hlv8{display:flex;justify-content:center;padding:10px}div.endOptionBlock.svelte-80hlv8{cursor:pointer;padding:30px;transition:background-color 0.4s}div.endOptionBlock.svelte-80hlv8:last-child{border-radius:0px 10px 10px 0px}div.endOptionBlock.svelte-80hlv8:first-child{border-radius:10px 0px 0px 10px}div.lowerBlock.svelte-80hlv8{flex-grow:1;display:flex}div.characterList.svelte-80hlv8{background-color:darkred;flex-grow:1;align-items:stretch;display:flex}div.startButton.svelte-80hlv8{cursor:pointer;padding:20px;width:120px;margin:auto 10px;font-size:50px;background-color:darkorchid;border-radius:20px}div.characterCard.svelte-80hlv8{padding:20px;margin:10px;margin-top:40px;width:140px;background-color:darksalmon;display:flex;flex-direction:column;border-radius:15px}div.deleteCharacter.svelte-80hlv8{cursor:pointer;height:20px;width:20px;border-radius:5px;background-color:red;margin:0px 0px 0px auto;text-align:center}div.characterPortrait.svelte-80hlv8{flex-grow:1}div.optionBar.svelte-80hlv8{display:flex;margin:10px 0px}div.optionBarArrowLeft.svelte-80hlv8{cursor:pointer;padding:0px 5px 0px 5px;background-color:rgb(0, 133, 99);border-radius:8px 0px 0px 8px}div.optionBarArrowRight.svelte-80hlv8{cursor:pointer;padding:0px 5px 0px 5px;background-color:rgb(0, 133, 99);border-radius:0px 8px 8px 0px}div.optionBarArrowRight.svelte-80hlv8:hover,div.optionBarArrowLeft.svelte-80hlv8:hover{background-color:rgb(59, 156, 132)}div.optionBarArrowRight.svelte-80hlv8:active,div.optionBarArrowLeft.svelte-80hlv8:active{background-color:rgb(123, 172, 159)}div.optionBarText.svelte-80hlv8{background-color:rgb(0, 151, 113);flex-grow:1;text-align:center;cursor:default;-moz-user-select:none}div.addPlayerCard.svelte-80hlv8{width:180px;border-radius:15px;margin:10px;margin-top:40px;border-style:dashed;display:flex;justify-content:center;align-items:center;background-color:greenyellow}div.addButton.svelte-80hlv8{width:50px;height:50px;cursor:pointer;font-size:50px;color:white;background-color:green;border-radius:10px;display:flex;align-items:center;justify-content:center}div.keybindingButton.svelte-80hlv8{cursor:pointer;background-color:blueviolet;text-align:center;margin:10px 0px;border-radius:8px}div.keybindingButton.svelte-80hlv8:hover{background-color:crimson}div.keybindingWindow.svelte-80hlv8{width:60%;height:60%;margin:5%;position:absolute;background-color:blanchedalmond;display:flex;flex-direction:column}div.keybindingPlayer.svelte-80hlv8{background-color:aqua;padding:10px;width:40%;margin:10px}div.keybindingGrid.svelte-80hlv8{display:grid;grid-template-columns:80px 80px;grid-template-rows:repeat(4, 32px);margin:40px}div.keybindingClose.svelte-80hlv8{cursor:pointer;background-color:crimson;padding:5px;margin:6px;width:40%;text-align:center}div.keybindingKey.svelte-80hlv8{background-color:bisque}div.keybindingKey.svelte-80hlv8:hover{background-color:brown}",d(document.head,e)),q(this,t,bt,xt,a,{set_key_inside:17,startFunction:18},[-1,-1])}},{document:wt}=W;function $t(t,e,i){const n=t.slice();return n[12]=e[i],n}function Ct(t){let e,i,n;function o(e){t[5](e)}let s={startFunction:t[4]};return void 0!==t[2]&&(s.set_key_inside=t[2]),e=new kt({props:s}),_.push((()=>function(t,e,i){const n=t.$$.props.set_key_inside;void 0!==n&&(t.$$.bound[n]=i,i(t.$$.ctx[n]))}(e,0,o))),{c(){K(e.$$.fragment)},m(t,i){N(e,t,i),n=!0},p(t,n){const o={};var s;!i&&4&n&&(i=!0,o.set_key_inside=t[2],s=()=>i=!1,S.push(s)),e.$set(o)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function _t(t){let e,i,n,o,s,r,l,a,c,u;i=new rt({props:{data:t[0].goalList[0]}}),o=new rt({props:{data:t[0].goalList[1]}});const g=[St,jt],y=[];function b(t,e){return t[0].finished?0:1}return r=b(t),l=y[r]=g[r](t),{c(){e=f("div"),K(i.$$.fragment),n=v(),K(o.$$.fragment),s=v(),l.c(),x(e,"class","mainScene svelte-1paenoy")},m(l,p){h(l,e,p),N(i,e,null),d(e,n),N(o,e,null),d(e,s),y[r].m(e,null),a=!0,c||(u=m(e,"click",t[3]("scene")),c=!0)},p(t,n){const s={};1&n&&(s.data=t[0].goalList[0]),i.$set(s);const a={};1&n&&(a.data=t[0].goalList[1]),o.$set(a);let c=r;r=b(t),r===c?y[r].p(t,n):(F(),R(y[c],1,1,(()=>{y[c]=null})),I(),l=y[r],l?l.p(t,n):(l=y[r]=g[r](t),l.c()),G(l,1),l.m(e,null))},i(t){a||(G(i.$$.fragment,t),G(o.$$.fragment,t),G(l),a=!0)},o(t){R(i.$$.fragment,t),R(o.$$.fragment,t),R(l),a=!1},d(t){t&&p(e),V(i),V(o),y[r].d(),c=!1,u()}}}function jt(t){let e,i,n,o,s,r,l,a,c,y,m=t[0].score[0]+"",w=t[0].score[1]+"",$=t[0].winConditions.type===at.ObjectiveType.time&&Bt(t),C=t[0].characterList,_=[];for(let e=0;e<C.length;e+=1)_[e]=Tt($t(t,C,e));const j=t=>R(_[t],1,1,(()=>{_[t]=null}));return c=new it({props:{ball:t[0].ball}}),{c(){e=f("div"),i=f("p"),n=g(m),o=g("-"),s=g(w),r=v(),$&&$.c(),l=v();for(let t=0;t<_.length;t+=1)_[t].c();a=v(),K(c.$$.fragment),k(i,"margin","10px"),x(e,"class","score svelte-1paenoy")},m(t,p){h(t,e,p),d(e,i),d(i,n),d(i,o),d(i,s),d(e,r),$&&$.m(e,null),h(t,l,p);for(let e=0;e<_.length;e+=1)_[e].m(t,p);h(t,a,p),N(c,t,p),y=!0},p(t,i){if((!y||1&i)&&m!==(m=t[0].score[0]+"")&&b(n,m),(!y||1&i)&&w!==(w=t[0].score[1]+"")&&b(s,w),t[0].winConditions.type===at.ObjectiveType.time?$?$.p(t,i):($=Bt(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),1&i){let e;for(C=t[0].characterList,e=0;e<C.length;e+=1){const n=$t(t,C,e);_[e]?(_[e].p(n,i),G(_[e],1)):(_[e]=Tt(n),_[e].c(),G(_[e],1),_[e].m(a.parentNode,a))}for(F(),e=C.length;e<_.length;e+=1)j(e);I()}const o={};1&i&&(o.ball=t[0].ball),c.$set(o)},i(t){if(!y){for(let t=0;t<C.length;t+=1)G(_[t]);G(c.$$.fragment,t),y=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)R(_[t]);R(c.$$.fragment,t),y=!1},d(t){t&&p(e),$&&$.d(),t&&p(l),u(_,t),t&&p(a),V(c,t)}}}function St(t){let e,i,o,s=t[0].win_message+"";return{c(){e=f("div"),i=f("div"),o=g(s),x(i,"class","finish-message"),x(e,"class","finish-container svelte-1paenoy")},m(t,n){h(t,e,n),d(e,i),d(i,o)},p(t,e){1&e&&s!==(s=t[0].win_message+"")&&b(o,s)},i:n,o:n,d(t){t&&p(e)}}}function Bt(t){let e,i,n,o=Math.floor(10*(60*t[0].winConditions.number-t[0].realTime))/10+"";return{c(){e=f("p"),i=g(o),n=g(" s"),k(e,"font-size","30px"),k(e,"margin","10px")},m(t,o){h(t,e,o),d(e,i),d(e,n)},p(t,e){1&e&&o!==(o=Math.floor(10*(60*t[0].winConditions.number-t[0].realTime))/10+"")&&b(i,o)},d(t){t&&p(e)}}}function Tt(t){let e,i;return e=new Z({props:{player:t[12]}}),{c(){K(e.$$.fragment)},m(t,n){N(e,t,n),i=!0},p(t,i){const n={};1&i&&(n.player=t[12]),e.$set(n)},i(t){i||(G(e.$$.fragment,t),i=!0)},o(t){R(e.$$.fragment,t),i=!1},d(t){V(e,t)}}}function Mt(t){let e,i,n,o;const s=[_t,Ct],r=[];function l(t,e){return t[1]?0:1}return e=l(t),i=r[e]=s[e](t),{c(){i.c(),n=y()},m(t,i){r[e].m(t,i),h(t,n,i),o=!0},p(t,[o]){let a=e;e=l(t),e===a?r[e].p(t,o):(F(),R(r[a],1,1,(()=>{r[a]=null})),I(),i=r[e],i?i.p(t,o):(i=r[e]=s[e](t),i.c()),G(i,1),i.m(n.parentNode,n))},i(t){o||(G(i),o=!0)},o(t){R(i),o=!1},d(t){r[e].d(t),t&&p(n)}}}function Ot(t,e,i){let n,o,s=new at.Game,r={},l=!1,a="scene";function c(t){s.computeNextFrame(t),i(0,s),requestAnimationFrame(c)}return document.onkeydown=function(t){if(t.repeat)t.preventDefault();else{n=t.key,console.log(`Key pressed: ${n}`),o(t.key),"F12"!==n&&"F5"!==n&&"scene"===a&&t.preventDefault(),r[n]=!0;for(let t=0;t<s.characterList.length;t++)s.characterList[t].checkPressedKeys(r)}},document.onkeyup=function(t){let e=t.key;r[e]=!1;for(let t=0;t<s.characterList.length;t++)s.characterList[t].checkPressedKeys(r)},[s,l,o,function(t){return()=>{a=t}},function(t,e){for(let e=0;e<t.length;e++)t[e].resetPosition();s.start(t,e),i(1,l=!0),requestAnimationFrame(c)},function(t){o=t,i(2,o)}]}const Pt=class extends H{constructor(t){var e;super(),wt.getElementById("svelte-1paenoy-style")||((e=f("style")).id="svelte-1paenoy-style",e.textContent="div.mainScene.svelte-1paenoy{background-color:darkblue;width:1000px;height:600px;margin:auto;-moz-user-select:none;-webkit-user-select:none;cursor:pointer;position:relative}div.score.svelte-1paenoy{width:100%;display:flex;flex-direction:column;margin-top:60px;font-size:80px;color:white;position:absolute;justify-content:center;align-items:center}div.finish-container.svelte-1paenoy{height:100%;width:100%;display:flex;align-items:center;justify-content:center;font-size:50px;color:white}",d(wt.head,e)),q(this,t,Ot,Mt,a,{})}}},734:(t,e)=>{var i;e.__esModule=!0,e.Side=void 0,(i=e.Side||(e.Side={}))[i.left=0]="left",i[i.right=1]="right"},539:function(t,e){var i,n,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0,e.computeObjectCollision=e.BoundingBoxCollider=e.RectangleCollider=e.CircleCollider=e.ColliderElement=void 0,function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle",t[t.BoundingBox=2]="BoundingBox"}(n||(n={}));var s=function(t,e,i,n,o){this.position=t,this.velocity=e,this.changeState=i,this.type=n,this.fixIndex=o};e.ColliderElement=s;var r=function(t){function e(e,i,o,s,r){var l=t.call(this,e,i,o,n.Circle,r)||this;return l.radius=s,l}return o(e,t),e}(s);e.CircleCollider=r;var l=function(t){function e(e,i,o,s,r,l,a,c){var d=t.call(this,e,i,o,n.Rectangle,c)||this;return d.length=s,d.width=r,d.angle=l,d.angularSpeed=a,d}return o(e,t),e}(s);e.RectangleCollider=l;var a=function(t){function e(e,i,o,s,r){var l=t.call(this,e,(function(){return[0,0]}),(function(){}),n.BoundingBox,r)||this;return l.angle=s,l.bounds=[[l.position[0]-o/2,l.position[0]+o/2],[l.position[1]-i/2,l.position[1]+i/2]],l}return o(e,t),e}(s);function c(t,e){return[t[0]*Math.cos(e*Math.PI/180)-t[1]*Math.sin(e*Math.PI/180),t[0]*Math.sin(e*Math.PI/180)+t[1]*Math.cos(e*Math.PI/180)]}function d(t,e,i,n){if(t.fixIndex>e.fixIndex)t.changeState([0,0],[2*n[0],2*n[1]]);else{if(!(t.fixIndex<e.fixIndex))return t.fixIndex===e.fixIndex?(t.changeState([0,0],[n[0],n[1]]),void e.changeState([0,0],[-n[0],-n[1]])):void 0;e.changeState([0,0],[-2*n[0],-2*n[1]])}}function h(t,e){t.type!==n.Circle||e.type!==n.Circle?t.type!==n.Rectangle||e.type!==n.Circle?t.type!==n.Circle||e.type!==n.Rectangle?t.type!==n.BoundingBox||e.type!==n.Circle?t.type!==n.Circle||e.type!==n.BoundingBox||p(e,t):p(t,e):u(e,t):u(t,e):function(t,e){var i=e.position()[0]-t.position()[0],n=e.position()[1]-t.position()[1],o=e.velocity()[0]-t.velocity()[0],s=e.velocity()[1]-t.velocity()[1],r=Math.pow(Math.pow(i,2)+Math.pow(n,2),.5),l=[i/r,n/r],a=o*l[0]+s*l[1];r>=t.radius()+e.radius()||a>0||(t.radius(),e.radius(),t.radius(),e.radius(),d(t,e,0,[a*l[0],a*l[1]]))}(t,e)}function p(t,e){var i=e.position(),n=e.radius(),o=e.velocity();if(i[0]-n<=t.bounds[0][0]&&o[0]<0){var s=[t.bounds[0][0]-(i[0]-n),0];e.changeState(s,[-2*o[0],0])}else if(i[0]+n>=t.bounds[0][1]&&o[0]>0)s=[t.bounds[0][1]-(i[0]+n),0],e.changeState(s,[-2*o[0],0]);else if(i[1]-n<=t.bounds[1][0]&&o[1]<0){var r=[0,t.bounds[1][0]-(i[1]-n)];e.changeState(r,[0,-2*o[1]])}else i[1]+n>=t.bounds[1][1]&&o[1]>0&&(r=[0,t.bounds[1][1]-(i[1]+n)],e.changeState(r,[0,-2*o[1]]))}function u(t,e){var i=[e.position()[0]-t.position()[0],e.position()[1]-t.position()[1]],n=t.angle(),o=c(i,n);if(!(o[0]>t.length()/2||o[0]<-t.length()/2)){var s;if(o[1]<=t.width()/2+e.radius()&&o[1]>=0)s=[0,1];else{if(!(o[1]>=-(t.width()/2+e.radius())&&o[1]<=0))return;s=[0,-1]}var r=c(t.velocity(),n),l=[r[0],r[1]-t.angularSpeed()*o[0]],a=c(e.velocity(),n),h=(a[0],(a[1]-l[1])*s[1]);if(!(h>=0)){var p=c(s,-n);d(t,e,0,[h*p[0],h*p[1]])}}}e.BoundingBoxCollider=a,e.computeObjectCollision=function(t,e){for(var i=0;i<t.collisionElements.length;i++)for(var n=0;n<e.collisionElements.length;n++)h(t.collisionElements[i],e.collisionElements[n])}},885:function(t,e,i){var n=this&&this.__spreadArray||function(t,e){for(var i=0,n=e.length,o=t.length;i<n;i++,o++)t[o]=e[i];return t};e.__esModule=!0,e.Game=e.ObjectiveType=void 0;var o,s=i(353),r=i(734),l=i(834),a=i(308),c=i(539);!function(t){t[t.time=0]="time",t[t.score=1]="score"}(o=e.ObjectiveType||(e.ObjectiveType={}));var d=function(){function t(){}return t.prototype.start=function(t,e){this.characterList=t,this.winConditions=e,this.scene=new a.Scene,this.goalList=[new l.Goal(this.scene.data,r.Side.left),new l.Goal(this.scene.data,r.Side.right)],this.scene=new a.Scene,this.ball=new s.Ball,this.score=[0,0],this.gravity=900,this.collidableObjects=n(n(n([],this.characterList),this.goalList),[this.ball,this.scene]),this.dynamicObjects=n(n([],this.characterList),[this.ball]),this.finished=!1,this.music={audio_tracks:[new Audio("./assets/track_1.mpga"),new Audio("./assets/track_2.mpga"),new Audio("./assets/track_3.mpga")],current_track:0},this.music.audio_tracks[this.music.current_track].play()},t.prototype.update_audio=function(){var t;t=this.winConditions.type===o.score?Math.max.apply(Math,this.score)/this.winConditions.number:this.realTime/(60*this.winConditions.number);var e=Math.floor(3*t);e!==this.music.current_track&&(this.music.audio_tracks[this.music.current_track].pause(),this.music.current_track=e,this.music.current_track<this.music.audio_tracks.length&&this.music.audio_tracks[this.music.current_track].play()),this.music.current_track<this.music.audio_tracks.length&&this.music.audio_tracks[this.music.current_track].ended&&this.music.audio_tracks[this.music.current_track].play()},t.prototype.checkWinConditions=function(){this.winConditions.type===o.time?this.realTime>=60*this.winConditions.number&&(this.finished=!0,this.score[0]===this.score[1]?this.win_message="Draw":this.score[0]>this.score[1]?this.win_message="Left wins":this.win_message="Right wins"):this.score[0]>=this.winConditions.number?(this.finished=!0,this.win_message="Left wins"):this.score[1]>=this.winConditions.number&&(this.finished=!0,this.win_message="Right wins")},t.prototype.computeNextFrame=function(t){var e=this;if(!this.finished){void 0===this.currentTime&&(this.currentTime=t,this.realTime=0);var i=(t-this.currentTime)/1e3;this.currentTime=t,this.realTime+=i,this.dynamicObjects.forEach((function(t){return t.integrateTime(i,e.gravity)}));for(var n=0;n<this.collidableObjects.length-1;n++)for(var o=n+1;o<this.collidableObjects.length;o++)c.computeObjectCollision(this.collidableObjects[n],this.collidableObjects[o]);this.ball.position[0]<this.goalList[0].position[0]+this.goalList[0].width/2&&this.ball.position[1]>this.goalList[0].position[1]-this.goalList[0].height/2&&!this.recentGoal&&(this.recentGoal=!0,this.score[1]+=1,setTimeout((function(){e.ball.velocity=[0,0],e.ball.position=[e.scene.data.size[0]/2,200],e.recentGoal=!1}),500)),this.ball.position[0]>this.goalList[1].position[0]-this.goalList[1].width/2&&this.ball.position[1]>this.goalList[1].position[1]-this.goalList[1].height/2&&!this.recentGoal&&(this.recentGoal=!0,this.score[0]+=1,setTimeout((function(){e.ball.velocity=[0,0],e.ball.position=[e.scene.data.size[0]/2,200],e.recentGoal=!1}),500)),this.update_audio(),this.checkWinConditions()}},t}();e.Game=d},353:(t,e,i)=>{e.__esModule=!0,e.Ball=void 0;var n=i(539),o=function(){function t(){var t=this;this.position=[500,200],this.velocity=[0,0],this.size=50,this.dragCoefficient=3e-5,this.collisionElements=[new n.CircleCollider((function(){return t.position}),(function(){return t.velocity}),(function(e,i){t.position[0]+=e[0],t.position[1]+=e[1],t.velocity[0]+=i[0],t.velocity[1]+=i[1]}),(function(){return t.size/2}),2)]}return t.prototype.integrateTime=function(t,e){this.position[0]+=this.velocity[0]*t,this.position[1]+=this.velocity[1]*t,this.velocity[1]+=e*t,this.velocity[0]-=this.dragCoefficient*this.velocity[0]*Math.abs(this.velocity[0]),this.velocity[1]-=this.dragCoefficient*this.velocity[1]*Math.abs(this.velocity[1])},t}();e.Ball=o},60:(t,e,i)=>{e.z=void 0;var n=i(734),o=i(539),s=i(535),r=function(){function t(t){var e=this;this.props={side:t,color:"",maxSpeed:200,jumpSpeed:600,size:70},t===n.Side.left?(this.state={position:s.standardPlayerConfig.left.position,velocity:[0,0],touchingGround:!1},this.keybinding=s.standardPlayerConfig.left.keybinding,this.props.color=s.standardPlayerConfig.left.color):(this.state={position:s.standardPlayerConfig.right.position,velocity:[0,0],touchingGround:!1},this.keybinding=s.standardPlayerConfig.right.keybinding,this.props.color=s.standardPlayerConfig.right.color),this.desiredVelocity=0,this.foot=new l(t),this.collisionElements=[new o.CircleCollider((function(){return e.state.position}),(function(){return e.state.velocity}),(function(t,i){e.state.position[0]+=t[0],e.state.position[1]+=t[1],e.state.velocity[0]+=i[0],e.state.velocity[1]=Math.max(e.state.velocity[1]+i[1],0),i[1]<0&&(e.state.touchingGround=!0)}),(function(){return e.props.size/2}),1),new o.RectangleCollider((function(){return e.getFootPosition()}),(function(){return e.state.velocity}),(function(t,i){e.state.velocity[0]+=i[0],e.state.velocity[1]=Math.max(e.state.velocity[1]+i[1],0)}),(function(){return e.foot.props.length-e.foot.props.width}),(function(){return e.foot.props.width}),(function(){return e.getFootAngle()}),(function(){return e.getFootAngularSpeed()}),1),new o.CircleCollider((function(){return e.getTipCenter()}),(function(){return e.getTipVelocity()}),(function(t,i){e.state.velocity[0]+=i[0],e.state.velocity[1]=Math.max(e.state.velocity[1]+i[1],0)}),(function(){return e.foot.props.width/2}),1)]}return t.prototype.resetPosition=function(){this.props.side==n.Side.left?this.state.position=[s.standardPlayerConfig.left.position[0]+300*Math.random()-150,s.standardPlayerConfig.left.position[1]]:this.state.position=[s.standardPlayerConfig.right.position[0]+300*Math.random()-150,s.standardPlayerConfig.right.position[1]]},t.prototype.getFootPosition=function(){var t=this.getFootAngle(),e=this.getFootTheta(),i=this.state.position,n=[(this.props.size/2-this.foot.props.width/2)*Math.sin(e*Math.PI/180),(this.props.size/2-this.foot.props.width/2)*Math.cos(e*Math.PI/180)],o=[(this.foot.props.length/2-this.foot.props.width/2)*Math.cos(t*Math.PI/180),-(this.foot.props.length/2-this.foot.props.width/2)*Math.sin(t*Math.PI/180)];return[i[0]+n[0]+o[0],i[1]+n[1]+o[1]]},t.prototype.getFootAngle=function(){return this.props.side==n.Side.left?this.foot.state.theta-this.foot.props.alpha:180-this.foot.state.theta+this.foot.props.alpha},t.prototype.getFootAngularSpeed=function(){return this.props.side==n.Side.left?this.foot.state.thetaDot:-this.foot.state.thetaDot},t.prototype.getFootTheta=function(){return this.props.side==n.Side.left?this.foot.state.theta:-this.foot.state.theta},t.prototype.getTipCenter=function(){var t=this.getFootPosition(),e=this.getFootAngle(),i=this.foot.props.length-this.foot.props.width;return[t[0]+i/2*Math.cos(e*Math.PI/180),t[1]-i/2*Math.sin(e*Math.PI/180)]},t.prototype.getTipVelocity=function(){var t=this.getTipCenter();return[(t[1]-this.state.position[1])*this.getFootAngularSpeed()+this.state.velocity[0],-(t[0]-this.state.position[0])*this.getFootAngularSpeed()+this.state.velocity[1]]},t.prototype.checkPressedKeys=function(t){t[this.keybinding.right]&&(this.state.velocity[0]=this.props.maxSpeed,this.desiredVelocity=this.props.maxSpeed),t[this.keybinding.left]&&(this.state.velocity[0]=-this.props.maxSpeed,this.desiredVelocity=-this.props.maxSpeed),t[this.keybinding.right]||t[this.keybinding.left]||(this.state.velocity[0]=0,this.desiredVelocity=0),t[this.keybinding.jump]&&this.state.touchingGround&&(this.state.velocity[1]=-this.props.jumpSpeed,this.state.touchingGround=!1),t[this.keybinding.kick]&&this.foot.state.theta<this.foot.props.thetaLimits[1]&&(this.foot.state.theta=Math.min(this.foot.state.theta,this.foot.props.thetaLimits[1]),this.foot.state.thetaDot=2*Math.PI),!t[this.keybinding.kick]&&this.foot.state.theta>this.foot.props.thetaLimits[0]&&(this.foot.state.theta=Math.max(this.foot.state.theta,this.foot.props.thetaLimits[0]),this.foot.state.thetaDot=-4*Math.PI),(!t[this.keybinding.kick]&&this.foot.state.theta===this.foot.props.thetaLimits[0]||t[this.keybinding.kick]&&this.foot.state.theta===this.foot.props.thetaLimits[1])&&(this.foot.state.thetaDot=0)},t.prototype.integrateTime=function(t,e){this.state.position[0]+=this.state.velocity[0]*t,this.state.position[1]+=this.state.velocity[1]*t,this.foot.state.theta+=180*this.foot.state.thetaDot/Math.PI*t,this.foot.state.theta=Math.min(Math.max(this.foot.state.theta,this.foot.props.thetaLimits[0]),this.foot.props.thetaLimits[1]),this.state.velocity[1]+=e*t,this.desiredVelocity!==this.state.velocity[0]&&this.state.touchingGround&&(0===this.desiredVelocity?this.state.velocity[0]*=.6:this.state.velocity[0]=this.desiredVelocity)},t}();e.z=r;var l=function(t){if(t===n.Side.left)var e=0,i=[0,90];else e=0,i=[0,90];this.props={length:80,width:30,alpha:e,thetaLimits:i},this.state={theta:i[0],thetaDot:0}}},834:(t,e,i)=>{e.__esModule=!0,e.Goal=void 0;var n=i(734),o=i(539);e.Goal=function(t,e){var i=this;this.width=80,this.height=200,this.barWidth=20,this.side=e,e===n.Side.left?this.position=[this.width/2,t.size[1]-this.height/2]:this.position=[t.size[0]-this.width/2,t.size[1]-this.height/2],this.collisionElements=[new o.RectangleCollider((function(){return[i.position[0],i.position[1]-i.height/2+i.barWidth/2]}),(function(){return[0,0]}),(function(){}),(function(){return i.width}),(function(){return i.barWidth}),(function(){return 0}),(function(){return 0}),0),new o.CircleCollider((function(){return i.side==n.Side.left?[i.position[0]+i.width/2,i.position[1]-i.height/2+i.barWidth/2]:[i.position[0]-i.width/2,i.position[1]-i.height/2+i.barWidth/2]}),(function(){return[0,0]}),(function(){}),(function(){return i.barWidth/2}),0)]}},308:(t,e,i)=>{e.__esModule=!0,e.Scene=void 0;var n=i(539);e.Scene=function(){this.data={size:[1e3,600]},this.collisionElements=[new n.BoundingBoxCollider([this.data.size[0]/2,this.data.size[1]/2],this.data.size[1],this.data.size[0],0,0)]}},535:(t,e)=>{e.__esModule=!0,e.standardSceneConfig=e.standardGameConfig=e.standardBallConfig=e.standardPlayerConfig=void 0,e.standardPlayerConfig={size:70,maxSpeed:200,jumpSpeed:600,left:{color:"orange",position:[200,500],keybinding:{jump:"s",left:"z",right:"c",kick:"b"}},right:{color:"cyan",position:[800,500],keybinding:{jump:"ArrowUp",left:"ArrowLeft",right:"ArrowRight",kick:"l"}}},e.standardBallConfig={initialPosition:[500,200],size:50,dragCoefficient:3e-5}}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},new(i(965).default)({target:document.body,props:{name:"world"}})})();