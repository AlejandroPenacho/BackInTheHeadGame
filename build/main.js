(()=>{"use strict";var t={632:(t,e,i)=>{function o(){}function n(t){return t()}function s(){return Object.create(null)}function l(t){t.forEach(n)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function h(t){return 0===Object.keys(t).length}function c(t,e){t.appendChild(e)}function u(t,e,i){t.insertBefore(e,i||null)}function d(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function y(){return f(" ")}function g(t,e,i,o){return t.addEventListener(e,i,o),()=>t.removeEventListener(e,i,o)}function v(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function b(t,e,i,o){t.style.setProperty(e,i,o?"important":"")}let k;function x(t){k=t}i.r(e),i.d(e,{default:()=>ft}),new Set,new Set;const w=[],M=[],z=[],P=[],_=Promise.resolve();let C=!1;function j(t){z.push(t)}function S(t){P.push(t)}let K=!1;const I=new Set;function E(){if(!K){K=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];x(e),F(e.$$)}for(x(null),w.length=0;M.length;)M.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];I.has(e)||(I.add(e),e())}z.length=0}while(w.length);for(;P.length;)P.pop()();C=!1,K=!1,I.clear()}}function F(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const L=new Set;let T;function q(t,e){t&&t.i&&(L.delete(t),t.i(e))}function A(t,e,i,o){if(t&&t.o){if(L.has(t))return;L.add(t),T.c.push((()=>{L.delete(t),o&&(i&&t.d(1),o())})),t.o(e)}}const O="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let B;function R(t,e,i){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=i,i(t.$$.ctx[o]))}function G(t){t&&t.c()}function H(t,e,i,o){const{fragment:s,on_mount:a,on_destroy:h,after_update:c}=t.$$;s&&s.m(e,i),o||j((()=>{const e=a.map(n).filter(r);h?h.push(...e):l(e),t.$$.on_mount=[]})),c.forEach(j)}function N(t,e){const i=t.$$;null!==i.fragment&&(l(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function D(t,e,i,n,r,a,h=[-1]){const c=k;x(t);const u=t.$$={fragment:null,ctx:null,props:a,update:o,not_equal:r,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:e.context||[]),callbacks:s(),dirty:h,skip_bound:!1};let p=!1;if(u.ctx=i?i(t,e.props||{},((e,i,...o)=>{const n=o.length?o[0]:i;return u.ctx&&r(u.ctx[e],u.ctx[e]=n)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](n),p&&function(t,e){-1===t.$$.dirty[0]&&(w.push(t),C||(C=!0,_.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),i})):[],u.update(),p=!0,l(u.before_update),u.fragment=!!n&&n(u.ctx),e.target){if(e.hydrate){const t=(f=e.target,Array.from(f.childNodes));u.fragment&&u.fragment.l(t),t.forEach(d)}else u.fragment&&u.fragment.c();e.intro&&q(t.$$.fragment),H(t,e.target,e.anchor,e.customElement),E()}var f;x(c)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(B=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,i){this[t]=i}disconnectedCallback(){l(this.$$.on_disconnect)}$destroy(){N(this,1),this.$destroy=o}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!h(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class J{$destroy(){N(this,1),this.$destroy=o}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!h(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function U(t){let e;return{c(){e=p("div"),b(e,"height","30px"),b(e,"width",t[0].foot.length+"px"),b(e,"transform","translate("+t[1][0]+"px, "+t[1][1]+"px)  translate(-50%,-50%) rotate("+t[1][2]+"deg)"),v(e,"class","svelte-9lir44")},m(t,i){u(t,e,i)},p(t,[i]){1&i&&b(e,"width",t[0].foot.length+"px"),2&i&&b(e,"transform","translate("+t[1][0]+"px, "+t[1][1]+"px)  translate(-50%,-50%) rotate("+t[1][2]+"deg)")},i:o,o,d(t){t&&d(e)}}}function Q(t,e,i){let o,{player:n}=e;return t.$$set=t=>{"player"in t&&i(0,n=t.player)},t.$$.update=()=>{1&t.$$.dirty&&i(1,o=n.getFootPosition())},[n,o]}const V=class extends J{constructor(t){var e;super(),document.getElementById("svelte-9lir44-style")||((e=p("style")).id="svelte-9lir44-style",e.textContent="div.svelte-9lir44{background-color:darkgoldenrod;position:absolute;border-radius:15px}",c(document.head,e)),D(this,t,Q,U,a,{player:0})}};function W(t){let e,i,o,n,s;return n=new V({props:{player:t[0]}}),{c(){e=p("div"),o=y(),G(n.$$.fragment),v(e,"style",i="transform: translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%);\n            height: "+t[0].size+"px;\n            width: "+t[0].size+"px;\n            border-radius : "+t[0].size/2+"px;\n            background-color : "+t[0].color),v(e,"class","svelte-1ybaz7a")},m(t,i){u(t,e,i),u(t,o,i),H(n,t,i),s=!0},p(t,[o]){(!s||1&o&&i!==(i="transform: translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%);\n            height: "+t[0].size+"px;\n            width: "+t[0].size+"px;\n            border-radius : "+t[0].size/2+"px;\n            background-color : "+t[0].color))&&v(e,"style",i);const l={};1&o&&(l.player=t[0]),n.$set(l)},i(t){s||(q(n.$$.fragment,t),s=!0)},o(t){A(n.$$.fragment,t),s=!1},d(t){t&&d(e),t&&d(o),N(n,t)}}}function X(t,e,i){let{player:o}=e;return t.$$set=t=>{"player"in t&&i(0,o=t.player)},[o]}const Y=class extends J{constructor(t){var e;super(),document.getElementById("svelte-1ybaz7a-style")||((e=p("style")).id="svelte-1ybaz7a-style",e.textContent="div.svelte-1ybaz7a{position:absolute;border-radius:25px}",c(document.head,e)),D(this,t,X,W,a,{player:0})}};function Z(t){let e;return{c(){e=p("div"),b(e,"height",t[0].size),b(e,"width",t[0].size),b(e,"border-radius",t[0].size/2),b(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)"),v(e,"class","svelte-18ikybg")},m(t,i){u(t,e,i)},p(t,[i]){1&i&&b(e,"height",t[0].size),1&i&&b(e,"width",t[0].size),1&i&&b(e,"border-radius",t[0].size/2),1&i&&b(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)")},i:o,o,d(t){t&&d(e)}}}function tt(t,e,i){let{data:o}=e;return t.$$set=t=>{"data"in t&&i(0,o=t.data)},[o]}const et=class extends J{constructor(t){var e;super(),document.getElementById("svelte-18ikybg-style")||((e=p("style")).id="svelte-18ikybg-style",e.textContent="div.svelte-18ikybg{height:60px;width:60px;position:absolute;border-radius:30px;background-color:palevioletred}",c(document.head,e)),D(this,t,tt,Z,a,{data:0})}};function it(t){let e;return{c(){e=p("div"),b(e,"height","200px"),b(e,"width","20px"),b(e,"transform","translate("+t[0]+"px, 400px)"),v(e,"class","svelte-aojmvv")},m(t,i){u(t,e,i)},p(t,[i]){1&i&&b(e,"transform","translate("+t[0]+"px, 400px)")},i:o,o,d(t){t&&d(e)}}}function ot(t,e,i){let o,{side:n}=e;return"left"==n?o=0:"right"==n&&(o=980),t.$$set=t=>{"side"in t&&i(1,n=t.side)},[o,n]}const nt=class extends J{constructor(t){var e;super(),document.getElementById("svelte-aojmvv-style")||((e=p("style")).id="svelte-aojmvv-style",e.textContent="div.svelte-aojmvv{background-color:greenyellow;position:absolute}",c(document.head,e)),D(this,t,ot,it,a,{side:1})}};function st(t){let e,i,n,s,r,a,h,f,m,b,k,x,w,M,z,P,_,C,j,S,K;return{c(){e=p("div"),i=p("h5"),i.textContent="Keys",n=y(),s=p("div"),r=p("div"),a=p("p"),a.textContent="Left: ",h=p("input"),f=y(),m=p("div"),b=p("p"),b.textContent="Right: ",k=p("input"),x=y(),w=p("div"),M=p("p"),M.textContent="Jump: ",z=p("input"),P=y(),_=p("div"),C=p("p"),C.textContent="Kick: ",j=p("input"),v(a,"class","svelte-hsunnl"),v(h,"class","svelte-hsunnl"),v(r,"class","row svelte-hsunnl"),v(b,"class","svelte-hsunnl"),v(k,"class","svelte-hsunnl"),v(m,"class","row svelte-hsunnl"),v(M,"class","svelte-hsunnl"),v(z,"class","svelte-hsunnl"),v(w,"class","row svelte-hsunnl"),v(C,"class","svelte-hsunnl"),v(j,"class","svelte-hsunnl"),v(_,"class","row svelte-hsunnl"),v(s,"class","container svelte-hsunnl"),v(e,"class","main svelte-hsunnl")},m(o,l){u(o,e,l),c(e,i),c(e,n),c(e,s),c(s,r),c(r,a),c(r,h),$(h,t[0].left),c(s,f),c(s,m),c(m,b),c(m,k),$(k,t[0].right),c(s,x),c(s,w),c(w,M),c(w,z),$(z,t[0].jump),c(s,P),c(s,_),c(_,C),c(_,j),$(j,t[0].kick),S||(K=[g(h,"input",t[2]),g(k,"input",t[3]),g(z,"input",t[4]),g(j,"input",t[5])],S=!0)},p(t,[e]){1&e&&h.value!==t[0].left&&$(h,t[0].left),1&e&&k.value!==t[0].right&&$(k,t[0].right),1&e&&z.value!==t[0].jump&&$(z,t[0].jump),1&e&&j.value!==t[0].kick&&$(j,t[0].kick)},i:o,o,d(t){t&&d(e),S=!1,l(K)}}}function lt(t,e,i){let{defaultKey:o}=e,{key:n={left:o.left,right:o.right,jump:o.jump,kick:o.kick}}=e;return t.$$set=t=>{"defaultKey"in t&&i(1,o=t.defaultKey),"key"in t&&i(0,n=t.key)},[n,o,function(){n.left=this.value,i(0,n)},function(){n.right=this.value,i(0,n)},function(){n.jump=this.value,i(0,n)},function(){n.kick=this.value,i(0,n)}]}const rt=class extends J{constructor(t){var e;super(),document.getElementById("svelte-hsunnl-style")||((e=p("style")).id="svelte-hsunnl-style",e.textContent="div.main.svelte-hsunnl{background-color:khaki;padding:20px}div.container.svelte-hsunnl{display:flex;flex-direction:column}div.row.svelte-hsunnl{display:flex;justify-content:space-between}input.svelte-hsunnl{width:80px}p.svelte-hsunnl{padding-top:9px;padding-bottom:9px;margin:0px}",c(document.head,e)),D(this,t,lt,st,a,{defaultKey:1,key:0})}};var at=i(768);const{document:ht}=O;function ct(t,e,i){const o=t.slice();return o[15]=e[i],o}function ut(t){let e,i;return e=new Y({props:{player:t[15]}}),{c(){G(e.$$.fragment)},m(t,o){H(e,t,o),i=!0},p(t,i){const o={};1&i&&(o.player=t[15]),e.$set(o)},i(t){i||(q(e.$$.fragment,t),i=!0)},o(t){A(e.$$.fragment,t),i=!1},d(t){N(e,t)}}}function dt(t){let e,i,o,n,s,r,a,h,$,b,k,x,w,z,P,_,C,j,K,I,E,F,L,O=t[2][0]+"",B=t[2][1]+"";i=new nt({props:{side:"right"}}),n=new nt({props:{side:"left"}});let D=t[0],J=[];for(let e=0;e<D.length;e+=1)J[e]=ut(ct(t,D,e));const U=t=>A(J[t],1,1,(()=>{J[t]=null}));function Q(e){t[4](e)}w=new et({props:{data:t[1]}});let V={defaultKey:at.pK.left.keybinding};function W(e){t[5](e)}void 0!==t[0][0].keybinding&&(V.key=t[0][0].keybinding),_=new rt({props:V}),M.push((()=>R(_,"key",Q)));let X={defaultKey:at.pK.right.keybinding};return void 0!==t[0][1].keybinding&&(X.key=t[0][1].keybinding),K=new rt({props:X}),M.push((()=>R(K,"key",W))),{c(){e=p("div"),G(i.$$.fragment),o=y(),G(n.$$.fragment),s=y(),r=p("div"),a=p("p"),h=f(O),$=f("-"),b=f(B),k=y();for(let t=0;t<J.length;t+=1)J[t].c();x=y(),G(w.$$.fragment),z=y(),P=p("div"),G(_.$$.fragment),j=y(),G(K.$$.fragment),v(r,"class","score svelte-mb3l1a"),v(e,"class","mainScene svelte-mb3l1a"),v(P,"class","control svelte-mb3l1a")},m(l,d){u(l,e,d),H(i,e,null),c(e,o),H(n,e,null),c(e,s),c(e,r),c(r,a),c(a,h),c(a,$),c(a,b),c(e,k);for(let t=0;t<J.length;t+=1)J[t].m(e,null);c(e,x),H(w,e,null),u(l,z,d),u(l,P,d),H(_,P,null),c(P,j),H(K,P,null),E=!0,F||(L=[g(e,"click",t[3]("scene")),g(P,"click",t[3]("control"))],F=!0)},p(t,[i]){if((!E||4&i)&&O!==(O=t[2][0]+"")&&m(h,O),(!E||4&i)&&B!==(B=t[2][1]+"")&&m(b,B),1&i){let o;for(D=t[0],o=0;o<D.length;o+=1){const n=ct(t,D,o);J[o]?(J[o].p(n,i),q(J[o],1)):(J[o]=ut(n),J[o].c(),q(J[o],1),J[o].m(e,x))}for(T={r:0,c:[],p:T},o=D.length;o<J.length;o+=1)U(o);T.r||l(T.c),T=T.p}const o={};2&i&&(o.data=t[1]),w.$set(o);const n={};!C&&1&i&&(C=!0,n.key=t[0][0].keybinding,S((()=>C=!1))),_.$set(n);const s={};!I&&1&i&&(I=!0,s.key=t[0][1].keybinding,S((()=>I=!1))),K.$set(s)},i(t){if(!E){q(i.$$.fragment,t),q(n.$$.fragment,t);for(let t=0;t<D.length;t+=1)q(J[t]);q(w.$$.fragment,t),q(_.$$.fragment,t),q(K.$$.fragment,t),E=!0}},o(t){A(i.$$.fragment,t),A(n.$$.fragment,t),J=J.filter(Boolean);for(let t=0;t<J.length;t+=1)A(J[t]);A(w.$$.fragment,t),A(_.$$.fragment,t),A(K.$$.fragment,t),E=!1},d(t){t&&d(e),N(i),N(n),function(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}(J,t),N(w),t&&d(z),t&&d(P),N(_),N(K),F=!1,l(L)}}}function pt(t,e,i){let o,n,s=new at.qR,l={},r=[new at.zk(at.MF.left),new at.zk(at.MF.right)],a=new at.af,h=[0,0],c="scene";return document.onkeydown=function(t){if(!t.repeat){n=t.key,"F12"!==n&&"F5"!==n&&"scene"===c&&t.preventDefault(),l[n]=!0;for(let t=0;t<s.nPlayers;t++)r[t].checkPressedKeys(l)}},document.onkeyup=function(t){let e=t.key;l[e]=!1;for(let t=0;t<s.nPlayers;t++)r[t].checkPressedKeys(l)},a=a,requestAnimationFrame((function t(e){o||(o=e);let n=(e-o)/1e3;o=e;for(let t=0;t<s.nPlayers;t++){let e=r[t];e.integrateTime(n,s.gravity),e.position[0]=Math.min(Math.max(e.position[0],e.size/2),s.scenarioSize[0]-e.size/2),e.position[1]>=s.scenarioSize[1]-e.size/2&&e.velocity[1]>0&&(e.velocity[1]=0,e.position[1]=s.scenarioSize[1]-e.size/2,e.touchingGround=!0)}i(0,r),a.integrateTime(n,s.gravity),a.position[0]>s.scenarioSize[0]-a.size/2&&a.velocity[0]>0&&(a.position[1]>400&&i(2,h=[h[0]+1,h[1]]),i(1,a.velocity[0]*=-1,a)),a.position[0]<a.size/2&&a.velocity[0]<0&&(a.position[1]>400&&i(2,h=[h[0],h[1]+1]),i(1,a.velocity[0]*=-1,a)),a.position[1]>s.scenarioSize[1]-a.size/2&&a.velocity[1]>0&&(i(1,a.velocity[1]*=-.8,a),i(1,a.position[1]=s.scenarioSize[1]-a.size/2,a)),a.position[1]<a.size/2&&a.velocity[1]<0&&i(1,a.velocity[1]*=-1,a),function(){for(let t=0;t<s.nPlayers;t++)r[t].computeCollision(a)}(),i(1,a),requestAnimationFrame(t)})),[r,a,h,function(t){return()=>{c=t}},function(e){t.$$.not_equal(r[0].keybinding,e)&&(r[0].keybinding=e,i(0,r))},function(e){t.$$.not_equal(r[1].keybinding,e)&&(r[1].keybinding=e,i(0,r))}]}const ft=class extends J{constructor(t){var e;super(),ht.getElementById("svelte-mb3l1a-style")||((e=p("style")).id="svelte-mb3l1a-style",e.textContent="div.mainScene.svelte-mb3l1a{background-color:darkblue;width:1000px;height:600px;margin:auto;-moz-user-select:none;-webkit-user-select:none;cursor:pointer;position:relative}div.score.svelte-mb3l1a{width:100%;margin:auto;display:flex;font-size:80px;color:white;position:absolute;justify-content:center}div.control.svelte-mb3l1a{display:flex;justify-content:space-between;margin:auto;width:1000px}",c(ht.head,e)),D(this,t,pt,dt,a,{})}}},768:(t,e)=>{var i;function o(t,e){return[t[0]*Math.cos(e*Math.PI/180)-t[1]*Math.sin(e*Math.PI/180),t[0]*Math.sin(e*Math.PI/180)+t[1]*Math.cos(e*Math.PI/180)]}e.zk=e.af=e.qR=e.pK=e.MF=void 0,function(t){t[t.left=0]="left",t[t.right=1]="right"}(i=e.MF||(e.MF={})),e.pK={left:{color:"orange",position:[200,500],keybinding:{jump:"s",left:"z",right:"c",kick:"b"}},right:{color:"cyan",position:[800,500],keybinding:{jump:"ArrowUp",left:"ArrowLeft",right:"ArrowRight",kick:"l"}}};e.qR=function(){this.scenarioSize=[1e3,600],this.gravity=900,this.nPlayers=2};var n=function(){function t(){this.position=[400,400],this.velocity=[100,-100],this.size=60,this.dragCoefficient=3e-5}return t.prototype.integrateTime=function(t,e){this.position[0]+=this.velocity[0]*t,this.position[1]+=this.velocity[1]*t,this.velocity[1]+=e*t,this.velocity[0]-=this.dragCoefficient*this.velocity[0]*Math.abs(this.velocity[0]),this.velocity[1]-=this.dragCoefficient*this.velocity[1]*Math.abs(this.velocity[1])},t}();e.af=n;var s=function(){function t(t){t===i.left?(this.position=e.pK.left.position,this.keybinding=e.pK.left.keybinding,this.color=e.pK.left.color):(this.position=e.pK.right.position,this.keybinding=e.pK.right.keybinding,this.color=e.pK.right.color),this.side=t,this.velocity=[0,0],this.touchingGround=!1,this.size=100,this.maxSpeed=200,this.jumpSpeed=600,this.foot=new l(t)}return t.prototype.getFootPosition=function(){var t,e;this.side===i.left?(t=this.foot.theta-this.foot.alpha,e=this.foot.theta):(t=-this.foot.theta+this.foot.alpha+180,e=-this.foot.theta);var o=this.position,n=[(this.size/2-this.foot.width/2)*Math.sin(e*Math.PI/180),(this.size/2-this.foot.width/2)*Math.cos(e*Math.PI/180)],s=[(this.foot.length/2-this.foot.width/2)*Math.cos(t*Math.PI/180),-(this.foot.length/2-this.foot.width/2)*Math.sin(t*Math.PI/180)];return[o[0]+n[0]+s[0],o[1]+n[1]+s[1],-t]},t.prototype.computeCollision=function(t){this.computeHeadCollision(t),this.computeFootCollision(t)},t.prototype.computeHeadCollision=function(t){var e=t.position[0]-this.position[0],i=t.position[1]-this.position[1],o=t.velocity[0]-this.velocity[0],n=t.velocity[1]-this.velocity[1],s=[e,i],l=Math.pow(Math.pow(e,2)+Math.pow(i,2),.5),r=(o*s[0]+n*s[1])/l;l<=this.size/2+t.size/2&&r<0&&(t.velocity[0]-=2*r*s[0]/l,t.velocity[1]-=2*r*s[1]/l)},t.prototype.computeFootCollision=function(t){var e=this.getFootPosition(),i=e[0],n=e[1],s=e[2];s=-s;var l,r=[t.position[0]-i,t.position[1]-n],a=o(r,s),h=o(t.velocity,s),c=o(this.velocity,s);if(a[0]<=this.foot.rectLength/2&&a[0]>=-this.foot.rectLength/2){if(a[1]<=this.foot.width/2+t.size/2&&a[1]>=0)l=[0,1];else{if(!(a[1]>=-(this.foot.width/2+t.size/2)&&a[1]<=0))return;l=[0,-1]}var u=[(this.size/2-this.foot.width/2)*Math.sin(this.foot.alpha)+a[0],(this.size/2-this.foot.width/2)*Math.cos(this.foot.alpha)+a[1]*l[1]],d=(this.foot.thetadot,c[0],(-u[0]*this.foot.thetadot+c[1])*l[1]-h[1]*l[1]);if(d>0){var p=2*d,f=o(l,-s);t.velocity[0]+=p*f[0],t.velocity[1]+=p*f[1]}}else{var y;if(Math.pow(a[0]-this.foot.rectLength/2,2)+Math.pow(a[1],2)<=Math.pow(this.foot.width/2+t.size/2,2))y=[this.foot.rectLength/2,0];else{if(!(Math.pow(a[0]+this.foot.rectLength/2,2)+Math.pow(a[1],2)<=Math.pow(this.foot.width/2+t.size/2,2)))return;y=[-this.foot.rectLength/2,0]}var g=o(y,-s);g=[g[0]+i,g[1]+n],r=[t.position[0]-g[0],t.position[1]-g[1]];var v=[this.foot.thetadot*(g[1]-this.position[1])+this.velocity[0],-this.foot.thetadot*(g[0]-this.position[0])+this.velocity[1]],m=Math.pow(Math.pow(r[0],2)+Math.pow(r[1],2),.5),$=[r[0]/m,r[1]/m],b=[t.velocity[0]-v[0],t.velocity[1]-v[1]],k=b[0]*$[0]+b[1]*$[1];k<0&&(t.velocity[0]-=2*k*$[0],t.velocity[1]-=2*k*$[1])}},t.prototype.checkPressedKeys=function(t){t[this.keybinding.right]&&(this.velocity[0]=this.maxSpeed),t[this.keybinding.left]&&(this.velocity[0]=-this.maxSpeed),t[this.keybinding.right]||t[this.keybinding.left]||(this.velocity[0]=0),t[this.keybinding.jump]&&this.touchingGround&&(this.velocity[1]=-this.jumpSpeed,this.touchingGround=!1),t[this.keybinding.kick]&&this.foot.theta<90&&(this.foot.theta=Math.min(this.foot.theta,90),this.side==i.left?this.foot.thetadot=2*Math.PI:this.foot.thetadot=-2*Math.PI),!t[this.keybinding.kick]&&this.foot.theta>0&&(this.foot.theta=Math.max(this.foot.theta,0),this.side==i.left?this.foot.thetadot=-4*Math.PI:this.foot.thetadot=4*Math.PI),(!t[this.keybinding.kick]&&0===this.foot.theta||t[this.keybinding.kick]&&90===this.foot.theta)&&(this.foot.thetadot=0)},t.prototype.integrateTime=function(t,e){this.position[0]+=this.velocity[0]*t,this.position[1]+=this.velocity[1]*t,this.side==i.left?this.foot.theta+=180*this.foot.thetadot/Math.PI*t:this.foot.theta-=180*this.foot.thetadot/Math.PI*t,this.foot.theta=Math.min(Math.max(this.foot.theta,0),90),this.velocity[1]+=e*t},t}();e.zk=s;var l=function(t){this.theta=0,this.thetadot=0,this.alpha=15,this.length=90,this.width=30,this.rectLength=this.length-this.width}}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},new(i(632).default)({target:document.body,props:{name:"world"}})})();