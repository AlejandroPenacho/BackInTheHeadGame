(()=>{"use strict";var t={965:(t,e,i)=>{function o(){}function n(t){return t()}function s(){return Object.create(null)}function r(t){t.forEach(n)}function a(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return 0===Object.keys(t).length}function d(t,e){t.appendChild(e)}function p(t,e,i){t.insertBefore(e,i||null)}function h(t){t.parentNode.removeChild(t)}function u(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function g(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function v(){return f(" ")}function y(){return f("")}function m(t,e,i,o){return t.addEventListener(e,i,o),()=>t.removeEventListener(e,i,o)}function b(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e,i,o){t.style.setProperty(e,i,o?"important":"")}let w;function $(t){w=t}i.r(e),i.d(e,{default:()=>Pt}),new Set,new Set;const j=[],C=[],_=[],S=[],B=Promise.resolve();let T=!1;function M(t){_.push(t)}let O=!1;const P=new Set;function L(){if(!O){O=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];$(e),z(e.$$)}for($(null),j.length=0;C.length;)C.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];P.has(e)||(P.add(e),e())}_.length=0}while(j.length);for(;S.length;)S.pop()();T=!1,O=!1,P.clear()}}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const A=new Set;let E;function F(){E={r:0,c:[],p:E}}function I(){E.r||r(E.c),E=E.p}function G(t,e){t&&t.i&&(A.delete(t),t.i(e))}function R(t,e,i,o){if(t&&t.o){if(A.has(t))return;A.add(t),E.c.push((()=>{A.delete(t),o&&(i&&t.d(1),o())})),t.o(e)}}const W="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let D;function K(t){t&&t.c()}function N(t,e,i,o){const{fragment:s,on_mount:l,on_destroy:c,after_update:d}=t.$$;s&&s.m(e,i),o||M((()=>{const e=l.map(n).filter(a);c?c.push(...e):r(e),t.$$.on_mount=[]})),d.forEach(M)}function V(t,e){const i=t.$$;null!==i.fragment&&(r(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function q(t,e,i,n,a,l,c=[-1]){const d=w;$(t);const p=t.$$={fragment:null,ctx:null,props:l,update:o,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:e.context||[]),callbacks:s(),dirty:c,skip_bound:!1};let u=!1;if(p.ctx=i?i(t,e.props||{},((e,i,...o)=>{const n=o.length?o[0]:i;return p.ctx&&a(p.ctx[e],p.ctx[e]=n)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](n),u&&function(t,e){-1===t.$$.dirty[0]&&(j.push(t),T||(T=!0,B.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),i})):[],p.update(),u=!0,r(p.before_update),p.fragment=!!n&&n(p.ctx),e.target){if(e.hydrate){const t=(g=e.target,Array.from(g.childNodes));p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();e.intro&&G(t.$$.fragment),N(t,e.target,e.anchor,e.customElement),L()}var g;$(d)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(D=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(a);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,i){this[t]=i}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){V(this,1),this.$destroy=o}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class H{$destroy(){V(this,1),this.$destroy=o}$on(t,e){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t){let e;return{c(){e=g("div"),k(e,"height",t[0].foot.props.width+"px"),k(e,"width",t[0].foot.props.length+"px"),k(e,"transform","translate("+t[1][0]+"px, "+t[1][1]+"px)  translate(-50%,-50%) rotate(-"+t[2]+"deg)"),b(e,"class","svelte-9lir44")},m(t,i){p(t,e,i)},p(t,[i]){1&i&&k(e,"height",t[0].foot.props.width+"px"),1&i&&k(e,"width",t[0].foot.props.length+"px"),6&i&&k(e,"transform","translate("+t[1][0]+"px, "+t[1][1]+"px)  translate(-50%,-50%) rotate(-"+t[2]+"deg)")},i:o,o,d(t){t&&h(e)}}}function U(t,e,i){let o,n,{player:s}=e;return t.$$set=t=>{"player"in t&&i(0,s=t.player)},t.$$.update=()=>{1&t.$$.dirty&&i(1,n=s.getFootPosition()),1&t.$$.dirty&&i(2,o=s.getFootAngle())},[s,n,o]}const X=class extends H{constructor(t){var e;super(),document.getElementById("svelte-9lir44-style")||((e=g("style")).id="svelte-9lir44-style",e.textContent="div.svelte-9lir44{background-color:darkgoldenrod;position:absolute;border-radius:15px}",d(document.head,e)),q(this,t,U,J,l,{player:0})}};function Y(t){let e,i,o,n,s;return n=new X({props:{player:t[0]}}),{c(){e=g("div"),o=v(),K(n.$$.fragment),b(e,"style",i="transform: translate("+t[0].state.position[0]+"px, "+t[0].state.position[1]+"px) translate(-50%, -50%);\n            height: "+t[0].props.size+"px;\n            width: "+t[0].props.size+"px;\n            border-radius : "+t[0].props.size/2+"px;\n            background-color : "+t[0].props.color),b(e,"class","svelte-1ybaz7a")},m(t,i){p(t,e,i),p(t,o,i),N(n,t,i),s=!0},p(t,[o]){(!s||1&o&&i!==(i="transform: translate("+t[0].state.position[0]+"px, "+t[0].state.position[1]+"px) translate(-50%, -50%);\n            height: "+t[0].props.size+"px;\n            width: "+t[0].props.size+"px;\n            border-radius : "+t[0].props.size/2+"px;\n            background-color : "+t[0].props.color))&&b(e,"style",i);const r={};1&o&&(r.player=t[0]),n.$set(r)},i(t){s||(G(n.$$.fragment,t),s=!0)},o(t){R(n.$$.fragment,t),s=!1},d(t){t&&h(e),t&&h(o),V(n,t)}}}function Q(t,e,i){let{player:o}=e;return t.$$set=t=>{"player"in t&&i(0,o=t.player)},[o]}const Z=class extends H{constructor(t){var e;super(),document.getElementById("svelte-1ybaz7a-style")||((e=g("style")).id="svelte-1ybaz7a-style",e.textContent="div.svelte-1ybaz7a{position:absolute;border-radius:25px}",d(document.head,e)),q(this,t,Q,Y,l,{player:0})}};function tt(t){let e;return{c(){e=g("div"),k(e,"height",t[0].size+"px"),k(e,"width",t[0].size+"px"),k(e,"border-radius",t[0].size/2+"px"),k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)"),b(e,"class","svelte-1bhxjt8")},m(t,i){p(t,e,i)},p(t,[i]){1&i&&k(e,"height",t[0].size+"px"),1&i&&k(e,"width",t[0].size+"px"),1&i&&k(e,"border-radius",t[0].size/2+"px"),1&i&&k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)")},i:o,o,d(t){t&&h(e)}}}function et(t,e,i){let{ball:o}=e;return t.$$set=t=>{"ball"in t&&i(0,o=t.ball)},[o]}const it=class extends H{constructor(t){var e;super(),document.getElementById("svelte-1bhxjt8-style")||((e=g("style")).id="svelte-1bhxjt8-style",e.textContent="div.svelte-1bhxjt8{position:absolute;background-color:palevioletred}",d(document.head,e)),q(this,t,et,tt,l,{ball:0})}};var ot=i(734);function nt(t){let e,i;return{c(){e=g("div"),i=g("div"),b(i,"class","high-bar svelte-15nxjtr"),k(i,"border-radius",t[1]),k(i,"transform","translate("+t[2]+"px, 0px)"),k(i,"height",t[0].barWidth+"px"),k(i,"width",t[0].width+t[0].barWidth/2+"px"),b(e,"class","interior svelte-15nxjtr"),k(e,"height",t[0].height+"px"),k(e,"width",t[0].width+"px"),k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)")},m(t,o){p(t,e,o),d(e,i)},p(t,[o]){2&o&&k(i,"border-radius",t[1]),4&o&&k(i,"transform","translate("+t[2]+"px, 0px)"),1&o&&k(i,"height",t[0].barWidth+"px"),1&o&&k(i,"width",t[0].width+t[0].barWidth/2+"px"),1&o&&k(e,"height",t[0].height+"px"),1&o&&k(e,"width",t[0].width+"px"),1&o&&k(e,"transform","translate("+t[0].position[0]+"px, "+t[0].position[1]+"px) translate(-50%, -50%)")},i:o,o,d(t){t&&h(e)}}}function st(t,e,i){let o,n,s,{data:r}=e;return r.side==ot.Side.left?(o=0,n="0px 10px 10px 0px",s=0):(n="10px 0px 0px 10px",s=-10),t.$$set=t=>{"data"in t&&i(0,r=t.data)},[r,n,s]}i(834);const rt=class extends H{constructor(t){var e;super(),document.getElementById("svelte-15nxjtr-style")||((e=g("style")).id="svelte-15nxjtr-style",e.textContent="div.interior.svelte-15nxjtr{background-color:greenyellow;position:absolute}div.high-bar.svelte-15nxjtr{background-color:rgb(139, 0, 0);position:absolute}",d(document.head,e)),q(this,t,st,nt,l,{data:0})}};var at=i(60),lt=i(885);function ct(t,e,i){const o=t.slice();return o[29]=e[i],o[31]=i,o}function dt(t,e,i){const o=t.slice();return o[31]=e[i],o}function pt(t,e,i){const o=t.slice();return o[31]=e[i],o}function ht(t){let e,i=[0,1,2],o=[];for(let e=0;e<3;e+=1)o[e]=gt(dt(t,i,e));return{c(){for(let t=0;t<3;t+=1)o[t].c();e=y()},m(t,i){for(let e=0;e<3;e+=1)o[e].m(t,i);p(t,e,i)},p(t,n){if(672&n[0]){let s;for(i=[0,1,2],s=0;s<3;s+=1){const r=dt(t,i,s);o[s]?o[s].p(r,n):(o[s]=gt(r),o[s].c(),o[s].m(e.parentNode,e))}for(;s<3;s+=1)o[s].d(1)}},d(t){u(o,t),t&&h(e)}}}function ut(t){let e,i=[0,1,2],o=[];for(let e=0;e<3;e+=1)o[e]=ft(pt(t,i,e));return{c(){for(let t=0;t<3;t+=1)o[t].c();e=y()},m(t,i){for(let e=0;e<3;e+=1)o[e].m(t,i);p(t,e,i)},p(t,n){if(608&n[0]){let s;for(i=[0,1,2],s=0;s<3;s+=1){const r=pt(t,i,s);o[s]?o[s].p(r,n):(o[s]=ft(r),o[s].c(),o[s].m(e.parentNode,e))}for(;s<3;s+=1)o[s].d(1)}},d(t){u(o,t),t&&h(e)}}}function gt(t){let e,i,o,n,s,r=t[7][t[31]]+"";return{c(){e=g("div"),i=f(r),o=f(" goals\n                "),b(e,"class","endOptionBlock svelte-jgee9p"),k(e,"background-color",t[5](lt.ObjectiveType.score,t[31]))},m(r,a){p(r,e,a),d(e,i),d(e,o),n||(s=m(e,"click",t[9](lt.ObjectiveType.score,t[31])),n=!0)},p(i,o){t=i,32&o[0]&&k(e,"background-color",t[5](lt.ObjectiveType.score,t[31]))},d(t){t&&h(e),n=!1,s()}}}function ft(t){let e,i,o,n,s,r=t[6][t[31]]+"";return{c(){e=g("div"),i=f(r),o=f(" min\n                "),b(e,"class","endOptionBlock svelte-jgee9p"),k(e,"background-color",t[5](lt.ObjectiveType.time,t[31]))},m(r,a){p(r,e,a),d(e,i),d(e,o),n||(s=m(e,"click",t[9](lt.ObjectiveType.time,t[31])),n=!0)},p(i,o){t=i,32&o[0]&&k(e,"background-color",t[5](lt.ObjectiveType.time,t[31]))},d(t){t&&h(e),n=!1,s()}}}function vt(t){let e,i,o,n,s,a,l,c,u,f,y,x,k,w,$,j,C,_,S,B,T,M,O,P;function L(){return t[21](t[31])}return s=new Z({props:{player:t[4][t[31]]}}),{c(){e=g("div"),i=g("div"),i.textContent="X",o=v(),n=g("div"),K(s.$$.fragment),a=v(),l=g("div"),c=g("div"),c.textContent="<",u=v(),f=g("div"),f.textContent="Skin",y=v(),x=g("div"),x.textContent=">",k=v(),w=g("div"),$=g("div"),$.textContent="<",j=v(),C=g("div"),C.textContent="Side",_=v(),S=g("div"),S.textContent=">",B=v(),T=g("div"),T.textContent="Keybinding",b(i,"class","deleteCharacter svelte-jgee9p"),b(n,"class","characterPortrait svelte-jgee9p"),b(c,"class","optionBarArrowLeft svelte-jgee9p"),b(f,"class","optionBarText svelte-jgee9p"),b(x,"class","optionBarArrowRight svelte-jgee9p"),b(l,"class","optionBar svelte-jgee9p"),b($,"class","optionBarArrowLeft svelte-jgee9p"),b(C,"class","optionBarText svelte-jgee9p"),b(S,"class","optionBarArrowRight svelte-jgee9p"),b(w,"class","optionBar svelte-jgee9p"),b(T,"class","keybindingButton svelte-jgee9p"),b(e,"class","characterCard svelte-jgee9p")},m(r,h){p(r,e,h),d(e,i),d(e,o),d(e,n),N(s,n,null),d(e,a),d(e,l),d(l,c),d(l,u),d(l,f),d(l,y),d(l,x),d(e,k),d(e,w),d(w,$),d(w,j),d(w,C),d(w,_),d(w,S),d(e,B),d(e,T),M=!0,O||(P=[m(i,"click",t[10](t[31])),m(c,"click",t[13](t[31],-1)),m(x,"click",t[13](t[31],1)),m($,"click",t[12](t[31])),m(S,"click",t[12](t[31])),m(T,"click",L)],O=!0)},p(e,i){t=e;const o={};16&i[0]&&(o.player=t[4][t[31]]),s.$set(o)},i(t){M||(G(s.$$.fragment,t),M=!0)},o(t){R(s.$$.fragment,t),M=!1},d(t){t&&h(e),V(s),O=!1,r(P)}}}function yt(t){let e,i,n,s;return{c(){e=g("div"),i=g("div"),i.textContent="+",b(i,"class","addButton svelte-jgee9p"),b(e,"class","addPlayerCard svelte-jgee9p")},m(o,r){p(o,e,r),d(e,i),n||(s=m(i,"click",t[11]),n=!0)},p:o,d(t){t&&h(e),n=!1,s()}}}function mt(t){let e,i,o,n,s,a,l,c,u,y,w,$,j,C,_,S,B,T,M,O,P,L,z,A,E,F,I,G,R,W=t[2]+1+"",D=t[4][t[2]].keybinding.left+"",K=t[4][t[2]].keybinding.right+"",N=t[4][t[2]].keybinding.jump+"",V=t[4][t[2]].keybinding.kick+"";return{c(){e=g("div"),i=g("div"),o=f("Player "),n=f(W),s=v(),a=g("div"),l=g("div"),l.textContent="Left",c=v(),u=g("div"),y=f(D),w=v(),$=g("div"),$.textContent="Right",j=v(),C=g("div"),_=f(K),S=v(),B=g("div"),B.textContent="Jump",T=v(),M=g("div"),O=f(N),P=v(),L=g("div"),L.textContent="Kick",z=v(),A=g("div"),E=f(V),F=v(),I=g("div"),I.textContent="Done",b(i,"class","keybindingPlayer svelte-jgee9p"),k(l,"border-top","1px solid"),k(l,"border-bottom","1px solid"),b(u,"class","keybindingKey svelte-jgee9p"),k($,"border-top","1px solid"),k($,"border-bottom","1px solid"),b(C,"class","keybindingKey svelte-jgee9p"),k(B,"border-top","1px solid"),k(B,"border-bottom","1px solid"),b(M,"class","keybindingKey svelte-jgee9p"),k(L,"border-top","1px solid"),k(L,"border-bottom","1px solid"),b(A,"class","keybindingKey svelte-jgee9p"),b(a,"class","keybindingGrid svelte-jgee9p"),b(I,"class","keybindingClose svelte-jgee9p"),b(e,"class","keybindingWindow svelte-jgee9p")},m(r,h){p(r,e,h),d(e,i),d(i,o),d(i,n),d(e,s),d(e,a),d(a,l),d(a,c),d(a,u),d(u,y),d(a,w),d(a,$),d(a,j),d(a,C),d(C,_),d(a,S),d(a,B),d(a,T),d(a,M),d(M,O),d(a,P),d(a,L),d(a,z),d(a,A),d(A,E),d(e,F),d(e,I),G||(R=[m(u,"click",t[22]),m(C,"click",t[23]),m(M,"click",t[24]),m(A,"click",t[25]),m(I,"click",t[26])],G=!0)},p(t,e){4&e[0]&&W!==(W=t[2]+1+"")&&x(n,W),20&e[0]&&D!==(D=t[4][t[2]].keybinding.left+"")&&x(y,D),20&e[0]&&K!==(K=t[4][t[2]].keybinding.right+"")&&x(_,K),20&e[0]&&N!==(N=t[4][t[2]].keybinding.jump+"")&&x(O,N),20&e[0]&&V!==(V=t[4][t[2]].keybinding.kick+"")&&x(E,V)},d(t){t&&h(e),G=!1,r(R)}}}function bt(t){let e,i,o,n,s,a,l,c,y,x,w,$,j,C,_,S,B,T,M;function O(t,e){return t[0]===lt.ObjectiveType.time?ut:ht}let P=O(t),L=P(t),z=t[4],A=[];for(let e=0;e<z.length;e+=1)A[e]=vt(ct(t,z,e));const E=t=>R(A[t],1,1,(()=>{A[t]=null}));let W=t[4].length<4&&yt(t),D=t[1]&&mt(t);return{c(){e=g("div"),i=g("div"),o=g("div"),n=f("Time"),s=v(),a=g("div"),l=f("Score"),c=v(),y=g("div"),L.c(),x=v(),w=g("div"),$=g("div");for(let t=0;t<A.length;t+=1)A[t].c();j=v(),W&&W.c(),C=v(),_=g("div"),_.textContent="PLAY",S=v(),D&&D.c(),b(o,"class","endTypeBlock svelte-jgee9p"),b(o,"id","time"),k(o,"background-color",t[3][0]),b(a,"class","endTypeBlock svelte-jgee9p"),b(a,"id","score"),k(a,"background-color",t[3][1]),b(i,"class","selectEndType svelte-jgee9p"),b(y,"class","endOptionsList svelte-jgee9p"),b($,"class","characterList svelte-jgee9p"),b(_,"class","startButton svelte-jgee9p"),b(w,"class","lowerBlock svelte-jgee9p"),b(e,"class","mainDiv svelte-jgee9p")},m(r,h){p(r,e,h),d(e,i),d(i,o),d(o,n),d(i,s),d(i,a),d(a,l),d(e,c),d(e,y),L.m(y,null),d(e,x),d(e,w),d(w,$);for(let t=0;t<A.length;t+=1)A[t].m($,null);d($,j),W&&W.m($,null),d(w,C),d(w,_),d(e,S),D&&D.m(e,null),B=!0,T||(M=[m(o,"click",t[8](lt.ObjectiveType.time)),m(a,"click",t[8](lt.ObjectiveType.score)),m(_,"click",t[14])],T=!0)},p(t,i){if((!B||8&i[0])&&k(o,"background-color",t[3][0]),(!B||8&i[0])&&k(a,"background-color",t[3][1]),P===(P=O(t))&&L?L.p(t,i):(L.d(1),L=P(t),L&&(L.c(),L.m(y,null))),46096&i[0]){let e;for(z=t[4],e=0;e<z.length;e+=1){const o=ct(t,z,e);A[e]?(A[e].p(o,i),G(A[e],1)):(A[e]=vt(o),A[e].c(),G(A[e],1),A[e].m($,j))}for(F(),e=z.length;e<A.length;e+=1)E(e);I()}t[4].length<4?W?W.p(t,i):(W=yt(t),W.c(),W.m($,null)):W&&(W.d(1),W=null),t[1]?D?D.p(t,i):(D=mt(t),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i(t){if(!B){for(let t=0;t<z.length;t+=1)G(A[t]);B=!0}},o(t){A=A.filter(Boolean);for(let t=0;t<A.length;t+=1)R(A[t]);B=!1},d(t){t&&h(e),L.d(),u(A,t),W&&W.d(),D&&D.d(),T=!1,r(M)}}}function xt(t,e,i){let o,{set_key_inside:n}=e,{startFunction:s}=e,r=!1,a=0,l=[1,3,5],c=[5,10,15],d=lt.ObjectiveType.time,p=["green","grey"],h=0,u=0,g=[new at.z(ot.Side.left),new at.z(ot.Side.right)],f=[0,1];g.forEach((t=>t.state.position=[70,70])),g=g;let v=["orange","cyan","green","red","black","yellow"];function y(t){i(1,r=!0),i(2,a=t)}function m(t,e){i(4,g[t].keybinding[e]="?",g),i(17,n=o=>{i(4,g[t].keybinding[e]=o,g),i(17,n=t=>{})})}return t.$$set=t=>{"set_key_inside"in t&&i(17,n=t.set_key_inside),"startFunction"in t&&i(18,s=t.startFunction)},t.$$.update=()=>{1572864&t.$$.dirty[0]&&i(5,o=(t,e)=>t===lt.ObjectiveType.time&&e===h||t===lt.ObjectiveType.score&&e===u?"green":"grey"),1&t.$$.dirty[0]&&(d===lt.ObjectiveType.time?i(3,p=["green","grey"]):i(3,p=["grey","green"]))},[d,r,a,p,g,o,l,c,function(t){return()=>{i(0,d=t)}},function(t,e){return t===lt.ObjectiveType.time?()=>i(19,h=e):()=>i(20,u=e)},function(t){return()=>{g.splice(t,1),f.splice(t,1),i(4,g)}},function(){let t=new at.z(ot.Side.left);t.state.position=[70,70],g.push(t),f.push(0),i(4,g)},function(t){return()=>{let e=g[t];e.props.side==ot.Side.left?e.props.side=ot.Side.right:e.props.side=ot.Side.left,i(4,g)}},function(t,e){return()=>{f[t]+=e,f[t]==v.length&&(f[t]=0),f[t]<0&&(f[t]=v.length-1),i(4,g[t].props.color=v[f[t]],g),i(4,g)}},function(){let t;t=d===lt.ObjectiveType.score?{type:lt.ObjectiveType.score,number:c[u]}:{type:lt.ObjectiveType.time,number:l[h]},s(g,t)},y,m,n,s,h,u,t=>y(t),()=>m(a,"left"),()=>m(a,"right"),()=>m(a,"jump"),()=>m(a,"kick"),()=>{i(1,r=!1)}]}const kt=class extends H{constructor(t){var e;super(),document.getElementById("svelte-jgee9p-style")||((e=g("style")).id="svelte-jgee9p-style",e.textContent="div.mainDiv.svelte-jgee9p{background-color:darkblue;width:1000px;height:600px;margin:auto;position:relative;display:flex;flex-direction:column;user-select:none}div.selectEndType.svelte-jgee9p{display:flex;justify-content:center;padding-top:50px;padding-bottom:10px;font-size:30px}div.endTypeBlock.svelte-jgee9p{cursor:pointer;padding:15px;width:240px;text-align:center;transition:background-color 0.4s}div.endTypeBlock#time.svelte-jgee9p{border-radius:10px 0px 0px 10px}div.endTypeBlock#score.svelte-jgee9p{border-radius:0px 10px 10px 0px}div.endOptionsList.svelte-jgee9p{display:flex;justify-content:center;padding:10px}div.endOptionBlock.svelte-jgee9p{cursor:pointer;padding:30px;transition:background-color 0.4s}div.endOptionBlock.svelte-jgee9p:last-child{border-radius:0px 10px 10px 0px}div.endOptionBlock.svelte-jgee9p:first-child{border-radius:10px 0px 0px 10px}div.lowerBlock.svelte-jgee9p{flex-grow:1;display:flex}div.characterList.svelte-jgee9p{background-color:darkred;flex-grow:1;align-items:stretch;display:flex}div.startButton.svelte-jgee9p{cursor:pointer;padding:20px;width:120px;margin:auto 10px;font-size:50px;background-color:darkorchid;border-radius:20px}div.characterCard.svelte-jgee9p{padding:20px;margin:10px;margin-top:40px;width:140px;background-color:darksalmon;display:flex;flex-direction:column;border-radius:15px}div.deleteCharacter.svelte-jgee9p{cursor:pointer;height:20px;width:20px;border-radius:5px;background-color:red;margin:0px 0px 0px auto;text-align:center}div.characterPortrait.svelte-jgee9p{flex-grow:1}div.optionBar.svelte-jgee9p{display:flex;margin:10px 0px}div.optionBarArrowLeft.svelte-jgee9p{cursor:pointer;padding:0px 5px 0px 5px;background-color:rgb(0, 133, 99);border-radius:8px 0px 0px 8px}div.optionBarArrowRight.svelte-jgee9p{cursor:pointer;padding:0px 5px 0px 5px;background-color:rgb(0, 133, 99);border-radius:0px 8px 8px 0px}div.optionBarArrowRight.svelte-jgee9p:hover,div.optionBarArrowLeft.svelte-jgee9p:hover{background-color:rgb(59, 156, 132)}div.optionBarArrowRight.svelte-jgee9p:active,div.optionBarArrowLeft.svelte-jgee9p:active{background-color:rgb(123, 172, 159)}div.optionBarText.svelte-jgee9p{background-color:rgb(0, 151, 113);flex-grow:1;text-align:center;cursor:default;user-select:none}div.addPlayerCard.svelte-jgee9p{width:180px;border-radius:15px;margin:10px;margin-top:40px;border-style:dashed;display:flex;justify-content:center;align-items:center;background-color:greenyellow}div.addButton.svelte-jgee9p{width:50px;height:50px;cursor:pointer;font-size:50px;color:white;background-color:green;border-radius:10px;display:flex;align-items:center;justify-content:center}div.keybindingButton.svelte-jgee9p{cursor:pointer;background-color:blueviolet;text-align:center;margin:10px 0px;border-radius:8px}div.keybindingButton.svelte-jgee9p:hover{background-color:crimson}div.keybindingWindow.svelte-jgee9p{width:60%;height:60%;margin:5%;position:absolute;background-color:blanchedalmond;display:flex;flex-direction:column}div.keybindingPlayer.svelte-jgee9p{background-color:aqua;padding:10px;width:40%;margin:10px}div.keybindingGrid.svelte-jgee9p{display:grid;grid-template-columns:80px 80px;grid-template-rows:repeat(4, 32px);margin:40px}div.keybindingClose.svelte-jgee9p{cursor:pointer;background-color:rgb(189, 78, 100);padding:5px;margin:6px;width:20%;text-align:center}div.keybindingClose.svelte-jgee9p:hover{cursor:pointer;background-color:rgb(156, 27, 53);padding:5px;margin:6px;width:20%;text-align:center}div.keybindingKey.svelte-jgee9p{background-color:bisque;text-align:center;cursor:pointer;border-top:1px solid;border-bottom:1px solid}div.keybindingKey.svelte-jgee9p:hover{background-color:brown}",d(document.head,e)),q(this,t,xt,bt,l,{set_key_inside:17,startFunction:18},[-1,-1])}},{document:wt}=W;function $t(t,e,i){const o=t.slice();return o[12]=e[i],o}function jt(t){let e,i,o;function n(e){t[5](e)}let s={startFunction:t[4]};return void 0!==t[2]&&(s.set_key_inside=t[2]),e=new kt({props:s}),C.push((()=>function(t,e,i){const o=t.$$.props.set_key_inside;void 0!==o&&(t.$$.bound[o]=i,i(t.$$.ctx[o]))}(e,0,n))),{c(){K(e.$$.fragment)},m(t,i){N(e,t,i),o=!0},p(t,o){const n={};var s;!i&&4&o&&(i=!0,n.set_key_inside=t[2],s=()=>i=!1,S.push(s)),e.$set(n)},i(t){o||(G(e.$$.fragment,t),o=!0)},o(t){R(e.$$.fragment,t),o=!1},d(t){V(e,t)}}}function Ct(t){let e,i,o,n,s,r,a,l,c,u;i=new rt({props:{data:t[0].goalList[0]}}),n=new rt({props:{data:t[0].goalList[1]}});const f=[St,_t],y=[];function x(t,e){return t[0].finished?0:1}return r=x(t),a=y[r]=f[r](t),{c(){e=g("div"),K(i.$$.fragment),o=v(),K(n.$$.fragment),s=v(),a.c(),b(e,"class","mainScene svelte-1paenoy")},m(a,h){p(a,e,h),N(i,e,null),d(e,o),N(n,e,null),d(e,s),y[r].m(e,null),l=!0,c||(u=m(e,"click",t[3]("scene")),c=!0)},p(t,o){const s={};1&o&&(s.data=t[0].goalList[0]),i.$set(s);const l={};1&o&&(l.data=t[0].goalList[1]),n.$set(l);let c=r;r=x(t),r===c?y[r].p(t,o):(F(),R(y[c],1,1,(()=>{y[c]=null})),I(),a=y[r],a?a.p(t,o):(a=y[r]=f[r](t),a.c()),G(a,1),a.m(e,null))},i(t){l||(G(i.$$.fragment,t),G(n.$$.fragment,t),G(a),l=!0)},o(t){R(i.$$.fragment,t),R(n.$$.fragment,t),R(a),l=!1},d(t){t&&h(e),V(i),V(n),y[r].d(),c=!1,u()}}}function _t(t){let e,i,o,n,s,r,a,l,c,y,m=t[0].score[0]+"",w=t[0].score[1]+"",$=t[0].winConditions.type===lt.ObjectiveType.time&&Bt(t),j=t[0].characterList,C=[];for(let e=0;e<j.length;e+=1)C[e]=Tt($t(t,j,e));const _=t=>R(C[t],1,1,(()=>{C[t]=null}));return c=new it({props:{ball:t[0].ball}}),{c(){e=g("div"),i=g("p"),o=f(m),n=f("-"),s=f(w),r=v(),$&&$.c(),a=v();for(let t=0;t<C.length;t+=1)C[t].c();l=v(),K(c.$$.fragment),k(i,"margin","10px"),b(e,"class","score svelte-1paenoy")},m(t,h){p(t,e,h),d(e,i),d(i,o),d(i,n),d(i,s),d(e,r),$&&$.m(e,null),p(t,a,h);for(let e=0;e<C.length;e+=1)C[e].m(t,h);p(t,l,h),N(c,t,h),y=!0},p(t,i){if((!y||1&i)&&m!==(m=t[0].score[0]+"")&&x(o,m),(!y||1&i)&&w!==(w=t[0].score[1]+"")&&x(s,w),t[0].winConditions.type===lt.ObjectiveType.time?$?$.p(t,i):($=Bt(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),1&i){let e;for(j=t[0].characterList,e=0;e<j.length;e+=1){const o=$t(t,j,e);C[e]?(C[e].p(o,i),G(C[e],1)):(C[e]=Tt(o),C[e].c(),G(C[e],1),C[e].m(l.parentNode,l))}for(F(),e=j.length;e<C.length;e+=1)_(e);I()}const n={};1&i&&(n.ball=t[0].ball),c.$set(n)},i(t){if(!y){for(let t=0;t<j.length;t+=1)G(C[t]);G(c.$$.fragment,t),y=!0}},o(t){C=C.filter(Boolean);for(let t=0;t<C.length;t+=1)R(C[t]);R(c.$$.fragment,t),y=!1},d(t){t&&h(e),$&&$.d(),t&&h(a),u(C,t),t&&h(l),V(c,t)}}}function St(t){let e,i,n,s=t[0].win_message+"";return{c(){e=g("div"),i=g("div"),n=f(s),b(i,"class","finish-message"),b(e,"class","finish-container svelte-1paenoy")},m(t,o){p(t,e,o),d(e,i),d(i,n)},p(t,e){1&e&&s!==(s=t[0].win_message+"")&&x(n,s)},i:o,o,d(t){t&&h(e)}}}function Bt(t){let e,i,o,n=Math.floor(10*(60*t[0].winConditions.number-t[0].realTime))/10+"";return{c(){e=g("p"),i=f(n),o=f(" s"),k(e,"font-size","30px"),k(e,"margin","10px")},m(t,n){p(t,e,n),d(e,i),d(e,o)},p(t,e){1&e&&n!==(n=Math.floor(10*(60*t[0].winConditions.number-t[0].realTime))/10+"")&&x(i,n)},d(t){t&&h(e)}}}function Tt(t){let e,i;return e=new Z({props:{player:t[12]}}),{c(){K(e.$$.fragment)},m(t,o){N(e,t,o),i=!0},p(t,i){const o={};1&i&&(o.player=t[12]),e.$set(o)},i(t){i||(G(e.$$.fragment,t),i=!0)},o(t){R(e.$$.fragment,t),i=!1},d(t){V(e,t)}}}function Mt(t){let e,i,o,n;const s=[Ct,jt],r=[];function a(t,e){return t[1]?0:1}return e=a(t),i=r[e]=s[e](t),{c(){i.c(),o=y()},m(t,i){r[e].m(t,i),p(t,o,i),n=!0},p(t,[n]){let l=e;e=a(t),e===l?r[e].p(t,n):(F(),R(r[l],1,1,(()=>{r[l]=null})),I(),i=r[e],i?i.p(t,n):(i=r[e]=s[e](t),i.c()),G(i,1),i.m(o.parentNode,o))},i(t){n||(G(i),n=!0)},o(t){R(i),n=!1},d(t){r[e].d(t),t&&h(o)}}}function Ot(t,e,i){let o,n,s=new lt.Game,r={},a=!1,l="scene";function c(t){s.computeNextFrame(t),i(0,s),requestAnimationFrame(c)}return document.onkeydown=function(t){if(t.repeat)t.preventDefault();else{o=t.key,n(t.key),"F12"!==o&&"F5"!==o&&"scene"===l&&t.preventDefault(),r[o]=!0;for(let t=0;t<s.characterList.length;t++)s.characterList[t].checkPressedKeys(r)}},document.onkeyup=function(t){let e=t.key;r[e]=!1;for(let t=0;t<s.characterList.length;t++)s.characterList[t].checkPressedKeys(r)},[s,a,n,function(t){return()=>{l=t}},function(t,e){for(let e=0;e<t.length;e++)t[e].resetPosition();s.start(t,e),i(1,a=!0),requestAnimationFrame(c)},function(t){n=t,i(2,n)}]}const Pt=class extends H{constructor(t){var e;super(),wt.getElementById("svelte-1paenoy-style")||((e=g("style")).id="svelte-1paenoy-style",e.textContent="div.mainScene.svelte-1paenoy{background-color:darkblue;width:1000px;height:600px;margin:auto;-moz-user-select:none;-webkit-user-select:none;cursor:pointer;position:relative}div.score.svelte-1paenoy{width:100%;display:flex;flex-direction:column;margin-top:60px;font-size:80px;color:white;position:absolute;justify-content:center;align-items:center}div.finish-container.svelte-1paenoy{height:100%;width:100%;display:flex;align-items:center;justify-content:center;font-size:50px;color:white}",d(wt.head,e)),q(this,t,Ot,Mt,l,{})}}},734:(t,e)=>{var i;e.__esModule=!0,e.Side=void 0,(i=e.Side||(e.Side={}))[i.left=0]="left",i[i.right=1]="right"},539:function(t,e){var i,o,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});e.__esModule=!0,e.computeObjectCollision=e.BoundingBoxCollider=e.RectangleCollider=e.CircleCollider=e.ColliderElement=void 0,function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle",t[t.BoundingBox=2]="BoundingBox"}(o||(o={}));var s=function(t,e,i,o,n){this.position=t,this.velocity=e,this.changeState=i,this.type=o,this.fixIndex=n};e.ColliderElement=s;var r=function(t){function e(e,i,n,s,r){var a=t.call(this,e,i,n,o.Circle,r)||this;return a.radius=s,a}return n(e,t),e}(s);e.CircleCollider=r;var a=function(t){function e(e,i,n,s,r,a,l,c){var d=t.call(this,e,i,n,o.Rectangle,c)||this;return d.length=s,d.width=r,d.angle=a,d.angularSpeed=l,d}return n(e,t),e}(s);e.RectangleCollider=a;var l=function(t){function e(e,i,n,s,r){var a=t.call(this,e,(function(){return[0,0]}),(function(){}),o.BoundingBox,r)||this;return a.angle=s,a.bounds=[[a.position[0]-n/2,a.position[0]+n/2],[a.position[1]-i/2,a.position[1]+i/2]],a}return n(e,t),e}(s);function c(t,e){return[t[0]*Math.cos(e*Math.PI/180)-t[1]*Math.sin(e*Math.PI/180),t[0]*Math.sin(e*Math.PI/180)+t[1]*Math.cos(e*Math.PI/180)]}function d(t,e,i,o){if(t.fixIndex>e.fixIndex)t.changeState([0,0],[2*o[0],2*o[1]]);else{if(!(t.fixIndex<e.fixIndex))return t.fixIndex===e.fixIndex?(t.changeState([0,0],[o[0],o[1]]),void e.changeState([0,0],[-o[0],-o[1]])):void 0;e.changeState([0,0],[-2*o[0],-2*o[1]])}}function p(t,e){t.type!==o.Circle||e.type!==o.Circle?t.type!==o.Rectangle||e.type!==o.Circle?t.type!==o.Circle||e.type!==o.Rectangle?t.type!==o.BoundingBox||e.type!==o.Circle?t.type!==o.Circle||e.type!==o.BoundingBox||h(e,t):h(t,e):u(e,t):u(t,e):function(t,e){var i=e.position()[0]-t.position()[0],o=e.position()[1]-t.position()[1],n=e.velocity()[0]-t.velocity()[0],s=e.velocity()[1]-t.velocity()[1],r=Math.pow(Math.pow(i,2)+Math.pow(o,2),.5),a=[i/r,o/r],l=n*a[0]+s*a[1];r>=t.radius()+e.radius()||l>0||(t.radius(),e.radius(),t.radius(),e.radius(),d(t,e,0,[l*a[0],l*a[1]]))}(t,e)}function h(t,e){var i=e.position(),o=e.radius(),n=e.velocity();if(i[0]-o<=t.bounds[0][0]&&n[0]<0){var s=[t.bounds[0][0]-(i[0]-o),0];e.changeState(s,[-2*n[0],0])}else if(i[0]+o>=t.bounds[0][1]&&n[0]>0)s=[t.bounds[0][1]-(i[0]+o),0],e.changeState(s,[-2*n[0],0]);else if(i[1]-o<=t.bounds[1][0]&&n[1]<0){var r=[0,t.bounds[1][0]-(i[1]-o)];e.changeState(r,[0,-2*n[1]])}else i[1]+o>=t.bounds[1][1]&&n[1]>0&&(r=[0,t.bounds[1][1]-(i[1]+o)],e.changeState(r,[0,-2*n[1]]))}function u(t,e){var i=[e.position()[0]-t.position()[0],e.position()[1]-t.position()[1]],o=t.angle(),n=c(i,o);if(!(n[0]>t.length()/2||n[0]<-t.length()/2)){var s;if(n[1]<=t.width()/2+e.radius()&&n[1]>=0)s=[0,1];else{if(!(n[1]>=-(t.width()/2+e.radius())&&n[1]<=0))return;s=[0,-1]}var r=c(t.velocity(),o),a=[r[0],r[1]-t.angularSpeed()*n[0]],l=c(e.velocity(),o),p=(l[0],(l[1]-a[1])*s[1]);if(!(p>=0)){var h=c(s,-o);d(t,e,0,[p*h[0],p*h[1]])}}}e.BoundingBoxCollider=l,e.computeObjectCollision=function(t,e){for(var i=0;i<t.collisionElements.length;i++)for(var o=0;o<e.collisionElements.length;o++)p(t.collisionElements[i],e.collisionElements[o])}},885:function(t,e,i){var o=this&&this.__spreadArray||function(t,e){for(var i=0,o=e.length,n=t.length;i<o;i++,n++)t[n]=e[i];return t};e.__esModule=!0,e.Game=e.ObjectiveType=void 0;var n,s=i(353),r=i(734),a=i(834),l=i(308),c=i(539);!function(t){t[t.time=0]="time",t[t.score=1]="score"}(n=e.ObjectiveType||(e.ObjectiveType={}));var d=function(){function t(){}return t.prototype.start=function(t,e){this.characterList=t,this.winConditions=e,this.scene=new l.Scene,this.goalList=[new a.Goal(this.scene.data,r.Side.left),new a.Goal(this.scene.data,r.Side.right)],this.scene=new l.Scene,this.ball=new s.Ball,this.score=[0,0],this.gravity=900,this.collidableObjects=o(o(o([],this.characterList),this.goalList),[this.ball,this.scene]),this.dynamicObjects=o(o([],this.characterList),[this.ball]),this.finished=!1,this.music={audio_tracks:[new Audio("./assets/track_1.mpga"),new Audio("./assets/track_2.mpga"),new Audio("./assets/track_3.mpga")],current_track:0},this.music.audio_tracks[this.music.current_track].play()},t.prototype.update_audio=function(){var t;t=this.winConditions.type===n.score?Math.max.apply(Math,this.score)/this.winConditions.number:this.realTime/(60*this.winConditions.number);var e=Math.floor(3*t);e!==this.music.current_track&&(this.music.audio_tracks[this.music.current_track].pause(),this.music.current_track=e,this.music.current_track<this.music.audio_tracks.length&&this.music.audio_tracks[this.music.current_track].play()),this.music.current_track<this.music.audio_tracks.length&&this.music.audio_tracks[this.music.current_track].ended&&this.music.audio_tracks[this.music.current_track].play()},t.prototype.checkWinConditions=function(){this.winConditions.type===n.time?this.realTime>=60*this.winConditions.number&&(this.finished=!0,this.score[0]===this.score[1]?this.win_message="Draw":this.score[0]>this.score[1]?this.win_message="Left wins":this.win_message="Right wins"):this.score[0]>=this.winConditions.number?(this.finished=!0,this.win_message="Left wins"):this.score[1]>=this.winConditions.number&&(this.finished=!0,this.win_message="Right wins")},t.prototype.computeNextFrame=function(t){var e=this;if(!this.finished){void 0===this.currentTime&&(this.currentTime=t,this.realTime=0);var i=(t-this.currentTime)/1e3;this.currentTime=t,this.realTime+=i,this.dynamicObjects.forEach((function(t){return t.integrateTime(i,e.gravity)}));for(var o=0;o<this.collidableObjects.length-1;o++)for(var n=o+1;n<this.collidableObjects.length;n++)c.computeObjectCollision(this.collidableObjects[o],this.collidableObjects[n]);this.ball.position[0]<this.goalList[0].position[0]+this.goalList[0].width/2&&this.ball.position[1]>this.goalList[0].position[1]-this.goalList[0].height/2&&!this.recentGoal&&(this.recentGoal=!0,this.score[1]+=1,setTimeout((function(){e.ball.velocity=[0,0],e.ball.position=[e.scene.data.size[0]/2,200],e.recentGoal=!1}),500)),this.ball.position[0]>this.goalList[1].position[0]-this.goalList[1].width/2&&this.ball.position[1]>this.goalList[1].position[1]-this.goalList[1].height/2&&!this.recentGoal&&(this.recentGoal=!0,this.score[0]+=1,setTimeout((function(){e.ball.velocity=[0,0],e.ball.position=[e.scene.data.size[0]/2,200],e.recentGoal=!1}),500)),this.update_audio(),this.checkWinConditions()}},t}();e.Game=d},353:(t,e,i)=>{e.__esModule=!0,e.Ball=void 0;var o=i(539),n=function(){function t(){var t=this;this.position=[500,200],this.velocity=[0,0],this.size=50,this.dragCoefficient=3e-5,this.collisionElements=[new o.CircleCollider((function(){return t.position}),(function(){return t.velocity}),(function(e,i){t.position[0]+=e[0],t.position[1]+=e[1],t.velocity[0]+=i[0],t.velocity[1]+=i[1]}),(function(){return t.size/2}),2)]}return t.prototype.integrateTime=function(t,e){this.position[0]+=this.velocity[0]*t,this.position[1]+=this.velocity[1]*t,this.velocity[1]+=e*t,this.velocity[0]-=this.dragCoefficient*this.velocity[0]*Math.abs(this.velocity[0]),this.velocity[1]-=this.dragCoefficient*this.velocity[1]*Math.abs(this.velocity[1])},t}();e.Ball=n},60:(t,e,i)=>{e.z=void 0;var o=i(734),n=i(539),s=i(535),r=function(){function t(t){var e=this;this.props={side:t,color:"",maxSpeed:200,jumpSpeed:600,size:70},t===o.Side.left?(this.state={position:s.standardPlayerConfig.left.position,velocity:[0,0],touchingGround:!1},this.keybinding=s.standardPlayerConfig.left.keybinding,this.props.color=s.standardPlayerConfig.left.color):(this.state={position:s.standardPlayerConfig.right.position,velocity:[0,0],touchingGround:!1},this.keybinding=s.standardPlayerConfig.right.keybinding,this.props.color=s.standardPlayerConfig.right.color),this.desiredVelocity=0,this.foot=new a(t),this.collisionElements=[new n.CircleCollider((function(){return e.state.position}),(function(){return e.state.velocity}),(function(t,i){e.state.position[0]+=t[0],e.state.position[1]+=t[1],e.state.velocity[0]+=i[0],e.state.velocity[1]=Math.max(e.state.velocity[1]+i[1],0),i[1]<0&&(e.state.touchingGround=!0)}),(function(){return e.props.size/2}),1),new n.RectangleCollider((function(){return e.getFootPosition()}),(function(){return e.state.velocity}),(function(t,i){e.state.velocity[0]+=i[0],e.state.velocity[1]=Math.max(e.state.velocity[1]+i[1],0)}),(function(){return e.foot.props.length-e.foot.props.width}),(function(){return e.foot.props.width}),(function(){return e.getFootAngle()}),(function(){return e.getFootAngularSpeed()}),1),new n.CircleCollider((function(){return e.getTipCenter()}),(function(){return e.getTipVelocity()}),(function(t,i){e.state.velocity[0]+=i[0],e.state.velocity[1]=Math.max(e.state.velocity[1]+i[1],0)}),(function(){return e.foot.props.width/2}),1)]}return t.prototype.resetPosition=function(){this.props.side==o.Side.left?this.state.position=[s.standardPlayerConfig.left.position[0]+300*Math.random()-150,s.standardPlayerConfig.left.position[1]]:this.state.position=[s.standardPlayerConfig.right.position[0]+300*Math.random()-150,s.standardPlayerConfig.right.position[1]]},t.prototype.getFootPosition=function(){var t=this.getFootAngle(),e=this.getFootTheta(),i=this.state.position,o=[(this.props.size/2-this.foot.props.width/2)*Math.sin(e*Math.PI/180),(this.props.size/2-this.foot.props.width/2)*Math.cos(e*Math.PI/180)],n=[(this.foot.props.length/2-this.foot.props.width/2)*Math.cos(t*Math.PI/180),-(this.foot.props.length/2-this.foot.props.width/2)*Math.sin(t*Math.PI/180)];return[i[0]+o[0]+n[0],i[1]+o[1]+n[1]]},t.prototype.getFootAngle=function(){return this.props.side==o.Side.left?this.foot.state.theta-this.foot.props.alpha:180-this.foot.state.theta+this.foot.props.alpha},t.prototype.getFootAngularSpeed=function(){return this.props.side==o.Side.left?this.foot.state.thetaDot:-this.foot.state.thetaDot},t.prototype.getFootTheta=function(){return this.props.side==o.Side.left?this.foot.state.theta:-this.foot.state.theta},t.prototype.getTipCenter=function(){var t=this.getFootPosition(),e=this.getFootAngle(),i=this.foot.props.length-this.foot.props.width;return[t[0]+i/2*Math.cos(e*Math.PI/180),t[1]-i/2*Math.sin(e*Math.PI/180)]},t.prototype.getTipVelocity=function(){var t=this.getTipCenter();return[(t[1]-this.state.position[1])*this.getFootAngularSpeed()+this.state.velocity[0],-(t[0]-this.state.position[0])*this.getFootAngularSpeed()+this.state.velocity[1]]},t.prototype.checkPressedKeys=function(t){t[this.keybinding.right]&&(this.state.velocity[0]=this.props.maxSpeed,this.desiredVelocity=this.props.maxSpeed),t[this.keybinding.left]&&(this.state.velocity[0]=-this.props.maxSpeed,this.desiredVelocity=-this.props.maxSpeed),t[this.keybinding.right]||t[this.keybinding.left]||(this.state.velocity[0]=0,this.desiredVelocity=0),t[this.keybinding.jump]&&this.state.touchingGround&&(this.state.velocity[1]=-this.props.jumpSpeed,this.state.touchingGround=!1),t[this.keybinding.kick]&&this.foot.state.theta<this.foot.props.thetaLimits[1]&&(this.foot.state.theta=Math.min(this.foot.state.theta,this.foot.props.thetaLimits[1]),this.foot.state.thetaDot=2*Math.PI),!t[this.keybinding.kick]&&this.foot.state.theta>this.foot.props.thetaLimits[0]&&(this.foot.state.theta=Math.max(this.foot.state.theta,this.foot.props.thetaLimits[0]),this.foot.state.thetaDot=-4*Math.PI),(!t[this.keybinding.kick]&&this.foot.state.theta===this.foot.props.thetaLimits[0]||t[this.keybinding.kick]&&this.foot.state.theta===this.foot.props.thetaLimits[1])&&(this.foot.state.thetaDot=0)},t.prototype.integrateTime=function(t,e){this.state.position[0]+=this.state.velocity[0]*t,this.state.position[1]+=this.state.velocity[1]*t,this.foot.state.theta+=180*this.foot.state.thetaDot/Math.PI*t,this.foot.state.theta=Math.min(Math.max(this.foot.state.theta,this.foot.props.thetaLimits[0]),this.foot.props.thetaLimits[1]),this.state.velocity[1]+=e*t,this.desiredVelocity!==this.state.velocity[0]&&this.state.touchingGround&&(0===this.desiredVelocity?this.state.velocity[0]*=.6:this.state.velocity[0]=this.desiredVelocity)},t}();e.z=r;var a=function(t){if(t===o.Side.left)var e=0,i=[0,90];else e=0,i=[0,90];this.props={length:80,width:30,alpha:e,thetaLimits:i},this.state={theta:i[0],thetaDot:0}}},834:(t,e,i)=>{e.__esModule=!0,e.Goal=void 0;var o=i(734),n=i(539);e.Goal=function(t,e){var i=this;this.width=80,this.height=200,this.barWidth=20,this.side=e,e===o.Side.left?this.position=[this.width/2,t.size[1]-this.height/2]:this.position=[t.size[0]-this.width/2,t.size[1]-this.height/2],this.collisionElements=[new n.RectangleCollider((function(){return[i.position[0],i.position[1]-i.height/2+i.barWidth/2]}),(function(){return[0,0]}),(function(){}),(function(){return i.width}),(function(){return i.barWidth}),(function(){return 0}),(function(){return 0}),0),new n.CircleCollider((function(){return i.side==o.Side.left?[i.position[0]+i.width/2,i.position[1]-i.height/2+i.barWidth/2]:[i.position[0]-i.width/2,i.position[1]-i.height/2+i.barWidth/2]}),(function(){return[0,0]}),(function(){}),(function(){return i.barWidth/2}),0)]}},308:(t,e,i)=>{e.__esModule=!0,e.Scene=void 0;var o=i(539);e.Scene=function(){this.data={size:[1e3,600]},this.collisionElements=[new o.BoundingBoxCollider([this.data.size[0]/2,this.data.size[1]/2],this.data.size[1],this.data.size[0],0,0)]}},535:(t,e)=>{e.__esModule=!0,e.standardSceneConfig=e.standardGameConfig=e.standardBallConfig=e.standardPlayerConfig=void 0,e.standardPlayerConfig={size:70,maxSpeed:200,jumpSpeed:600,left:{color:"orange",position:[200,500],keybinding:{jump:"s",left:"z",right:"c",kick:"b"}},right:{color:"cyan",position:[800,500],keybinding:{jump:"ArrowUp",left:"ArrowLeft",right:"ArrowRight",kick:"l"}}},e.standardBallConfig={initialPosition:[500,200],size:50,dragCoefficient:3e-5}}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,i),s.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},new(i(965).default)({target:document.body,props:{name:"world"}})})();